{"version":3,"sources":["redux/movies/movies.types.js","redux/genres/genres.types.js","redux/languages/languages.types.js","redux/theme/theme.types.js","redux/theme/theme.reducer.js","redux/modal/modal.types.js","redux/rootReducer.js","redux/movies/movies.reducer.js","redux/genres/genres.reducer.js","redux/languages/languages.reducer.js","redux/modal/modal.reducer.js","redux/store.js","api/api.js","redux/genres/genres.selector.js","redux/movies/movies.actions.js","redux/theme/theme.selector.js","redux/modal/modal.selector.js","redux/movies/movies.selector.js","redux/modal/modal.actions.js","components/MovieItem/MovieItem.style.js","redux/languages/languages.selector.js","components/MovieItem/MovieItem.component.js","GlobalStyle.js","pages/Random/Random.style.js","pages/Random/Random.component.js","redux/form/form.selector.js","components/MovieList/MovieList.style.js","components/MovieList/MovieList.component.js","pages/BestMovies.js","components/MovieListComplex/MovieListComplex.style.js","components/MovieListComplex/MovieListComplex.component.js","pages/Explore.js","components/CustomForm/CustomForm.style.js","components/CustomForm/CustomForm.component.js","pages/Custom/Custom.style.js","pages/Custom/Custom.component.js","components/Sidebar/Sidebar.style.js","components/Sidebar/Sidebar.component.js","components/SidebarLink/SidebarLink.component.js","redux/theme/theme.actions.js","components/Modal/Modal.style.js","components/Modal/Modal.component.js","App.style.js","App.js","redux/languages/languages.actions.js","redux/genres/genres.actions.js","index.js"],"names":["INITIAL_STATE","currentTheme","combineReducers","movies","state","action","payload","id","page","totalPages","isNewQuery","type","MovieActionTypes","randomMovie","bestMovies","console","log","moviesByCriteria","moviesByGenre","genres","GenreActionTypes","genreList","languages","LanguageActionTypes","languageList","themes","ThemeActionTypes","modal","ModalActionTypes","isActive","movie","form","reduxFormReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middlewares","reduxThunk","store","createStore","rootReducer","CustomForm","values","applyMiddleware","axios","create","baseURL","auth","params","include_adult","selectGenreList","createSelector","fetchMoviesByCriteria","formValues","dispatch","a","endPoint","endPointAppendix","Object","entries","map","query","value","join","api","get","then","response","data","catch","error","results","total_pages","fetchMoviesByGenre","genreId","fetchBestMovies","selectCurrentTheme","selectModal","selectIsActive","selectMovie","selectMovies","selectRandomMovie","selectBestMovies","selectMoviesByCriteria","selectAllMoviesByGenre","selectMoviesByGenre","closeModal","StyledItem","styled","div","isListItem","poster","css","theme","item","bgColor","textColor","selectLanguageList","mapStateToProps","createStructuredSelector","connect","openModal","sectionNum","className","useState","isImgLoaded","setIsImgLoaded","title","overview","ratings","vote_average","releaseDate","release_date","poster_path","languageId","backdrop_path","profile_path","original_language","observer","useRef","itemRef","useCallback","current","disconnect","IntersectionObserver","isIntersecting","rootMargin","observe","onClick","ref","src","loader","size","color","unloader","GlobalStyle","createGlobalStyle","StyledPage","colors","dark","sidebar","genreColor","reverse","light","StyledRandomPage","fetchRandomMovie","latestResponse","latestMovieId","randomMovieId","Math","ceil","random","randomResponse","props","genresNames","useEffect","name","substr","selectForm","selectFormValues","selectSubmitSucceeded","submitSucceeded","resubmitted","StyledListContainer","isLoading","atLeftEnd","atRightEnd","StyledList","StyledTitle","h2","ListTokens","MovieList","fetchMovies","listToken","valuesChanged","setValuesUnchanged","setAtLeftEnd","setAtRightEnd","scrollOffset","setScrollOffset","scroll","dir","list","target","parentElement","lastElementChild","newOffset","scrollTo","top","left","behavior","prevOffset","clientWidth","maxScrollLeft","scrollWidth","e","offset","GenreMovieList","fetcher","pageNum","CriteriaMovieList","GeneralMovieList","selector","BestMovies","this","Component","StyledListComplex","moviesGalore","genresLength","keys","length","max","genresNum","setGenresNum","hasMore","setHasMore","lastListRef","prevNum","slice","index","isGenreList","StyledForm","StyledGroup","renderSelect","options","purpose","input","renderOptions","processedOptions","option","unshift","renderInput","placeholder","label","meta","active","touched","visited","autoComplete","renderError","WrappedCustomForm","handleSubmit","mySubmit","reset","pristine","submitting","onFormToggleClick","onSubmit","Field","component","defaultValue","disabled","reduxForm","initialValues","destroyOnUnmount","validate","errors","year","Date","getFullYear","voteAverage","StyledFormContainer","isVisible","isFormVisible","setIsFormVisible","hasSubmitted","setHasSubmitted","setValuesChanged","toggleForm","prevState","token","StyledSidebar","StyledToggle","button","StyledTitleContainer","StyledMenu","ul","li","StyledLink","Link","withRouter","to","history","children","push","isModalOpen","toggleTheme","currPage","setCurrPage","pageTos","pageTitles","activePage","items","Array","i","renderMenuItems","StyledModal","genresIds","genre_ids","backdrop","StyledApp","StyledContainer","isModalActive","fetchLanguages","iso_639_1","english_name","alert","fetchGenres","forEach","genre","exact","path","Random","Explore","Custom","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.f7d15982.chunk.js","sourcesContent":["export default {\r\n    FETCH_RANDOM_MOVIE: 'FETCH_RANDOM_MOVIE',\r\n    FETCH_BEST_MOVIES: 'FETCH_BEST_MOVIES',\r\n    FETCH_MOVIES_BY_GENRE: 'FETCH_MOVIES_BY_GENRE',\r\n    FETCH_BY_CRITERIA: 'FETCH_BY_CRITERIA'\r\n};","export default {\r\n    FETCH_GENRES: 'FETCH_GENRES'\r\n};","export default {\r\n    FETCH_LANGUAGES: 'FETCH_LANGUAGES'\r\n};","export default {\r\n    LOAD_THEMES: 'LOAD_THEMES',\r\n    TOGGLE_THEME: 'TOGGLE_THEME',\r\n    INITIALIZE_THEME: 'INITIALIZE_THEME'\r\n};","import ThemeActionTypes from \"./theme.types\";\r\n\r\nconst INITIAL_STATE = {\r\n    currentTheme: 'dark'\r\n};\r\n\r\nexport const themeReducer = (state = INITIAL_STATE, action) => {\r\n    if (action.type === ThemeActionTypes.TOGGLE_THEME) {\r\n        console.log('STATE INSIDE TOGLGE THEME', state)\r\n        return { ...state, currentTheme: state.currentTheme === 'dark' ? 'light' : 'dark'}}\r\n\r\n    return state;  \r\n};","export default {\r\n    OPEN_MODAL: 'OPEN_MODAL',\r\n    CLOSE_MODAL: 'CLOSE_MODAL'\r\n};","import { combineReducers } from 'redux';\r\n\r\nimport { movieReducer } from './movies/movies.reducer';\r\nimport { genreReducer } from './genres/genres.reducer';\r\nimport { languageReducer } from './languages/languages.reducer';\r\nimport { themeReducer } from './theme/theme.reducer';\r\nimport { modalReducer } from './modal/modal.reducer';\r\nimport { reducer as reduxFormReducer } from 'redux-form';\r\n\r\nexport default combineReducers({\r\n  movies: movieReducer,\r\n  genres: genreReducer,\r\n  languages: languageReducer,\r\n  themes: themeReducer,\r\n  modal: modalReducer,\r\n  form: reduxFormReducer\r\n});\r\n","import MovieActionTypes from \"./movies.types\";\r\n\r\n\r\n\r\n\r\n\r\n                                                                    //REMEMBER TO EXTRACT ONLY NESSECARY VALUES FROM FETCHED MOVIES\r\n                                                                    //I.E. TITLE, YEAR ETC......\r\n\r\n\r\n\r\n\r\n\r\nexport const movieReducer = (state = {}, action) => {\r\n    const { id, page, movies, totalPages, isNewQuery } = action.payload || {};\r\n\r\n    switch (action.type) {\r\n        case MovieActionTypes.FETCH_RANDOM_MOVIE:\r\n            return { ...state, randomMovie: action.payload };\r\n  \r\n        case MovieActionTypes.FETCH_BEST_MOVIES:\r\n            if (state.bestMovies) {\r\n                return { \r\n                    ...state, \r\n                    bestMovies: {\r\n                        page,\r\n                        movies: [...state.bestMovies.movies, ...movies],\r\n                        totalPages\r\n                    }\r\n                };\r\n            }\r\n            return { \r\n                ...state, \r\n                bestMovies: {\r\n                    page,\r\n                    movies,\r\n                    totalPages\r\n                }\r\n            };\r\n        \r\n        case MovieActionTypes.FETCH_BY_CRITERIA:\r\n            // const { movies, total_pages, isNewQuery } = action.payload;\r\n            console.log('ERROR FROM FETCH BY CRITERIA REDUCER', movies);\r\n            if (state.moviesByCriteria && isNewQuery) {\r\n                return {\r\n                    ...state,\r\n                    moviesByCriteria: {\r\n                        totalPages,\r\n                        movies: [\r\n                            ...state.moviesByCriteria.movies,\r\n                            ...movies\r\n                        ]\r\n                    }\r\n                };\r\n            }\r\n            \r\n            return {\r\n                ...state,\r\n                moviesByCriteria: {\r\n                    totalPages,\r\n                    movies,\r\n                    page\r\n                }\r\n            };\r\n\r\n        case MovieActionTypes.FETCH_MOVIES_BY_GENRE:\r\n              // debugger;\r\n  \r\n\r\n            if (id in state.moviesByGenre) {\r\n                return {\r\n                    ...state,\r\n                    moviesByGenre: {\r\n                        ...state.moviesByGenre,\r\n                        [id]:  {\r\n                            movies: [ ...state.moviesByGenre[id].movies, ...movies ],             \r\n                            page,\r\n                            totalPages\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                moviesByGenre: {\r\n                    ...state.moviesByGenre,\r\n                    [id]:  {\r\n                        movies: [ ...movies ],             \r\n                        page,\r\n                        totalPages: totalPages\r\n                    }\r\n                }\r\n            };\r\n            \r\n            \r\n            // return {\r\n            //     ...state,\r\n            //     moviesByGenre: {\r\n            //         totalPages: action.movies.total_pages,\r\n            //         movies: action.movies.results\r\n            //     }\r\n            // };\r\n  \r\n        default:\r\n            return state;\r\n    }\r\n};","import GenreActionTypes from \"./genres.types\";\r\n\r\nexport const genreReducer = (state = {}, action) => {\r\n\r\n\r\n  \r\n  console.log('INSIDE GENRE REDUCER', action);\r\n\r\n\r\n    switch (action.type) {\r\n      case GenreActionTypes.FETCH_GENRES:\r\n        console.log(\"GENRES FROM REDUCER \", action.payload);\r\n        // return { ...state, genres: action.payload };\r\n        return { genreList: action.payload };\r\n  \r\n      default:\r\n        return state;\r\n    }\r\n};","import LanguageActionTypes from './languages.types';\r\n\r\nexport const languageReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n      case LanguageActionTypes.FETCH_LANGUAGES:\r\n        console.log(\"GENRES FROM REDUCER \", action.payload);\r\n        // return { ...state, languages: action.payload };\r\n        return { languageList: action.payload };\r\n  \r\n      default:\r\n        return state;\r\n    }\r\n};","import ModalActionTypes from \"./modal.types\";\r\n\r\nexport const modalReducer = (state = {}, action) => {\r\n  console.log('INSIDE MODAL ACTION', action)\r\n    switch (action.type) {\r\n      case ModalActionTypes.OPEN_MODAL:\r\n        return { isActive: true, movie: action.payload };\r\n      case ModalActionTypes.CLOSE_MODAL:\r\n        return { isActive: false, movie: null };\r\n      default:\r\n        return state;\r\n    }\r\n};","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport reduxThunk from \"redux-thunk\";\r\n\r\nimport rootReducer from './rootReducer';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst middlewares = [reduxThunk];\r\n\r\nexport const store = createStore(\r\n    rootReducer,\r\n    {\r\n        movies: {\r\n            moviesByGenre: {}\r\n        },\r\n        themes: { \r\n            currentTheme: 'dark' \r\n        },\r\n        modal: {\r\n            isActive: false,\r\n            movie: null\r\n        },\r\n        form: {\r\n            CustomForm:{\r\n                values: {}\r\n            }\r\n        }\r\n    },\r\n    composeEnhancers(applyMiddleware(...middlewares))\r\n);","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://api.themoviedb.org/3/',\r\n    auth: {\r\n        'api_key': '55881c34587ea582a685d26399d1be47'\r\n    },\r\n    params: {\r\n        include_adult: false\r\n    }\r\n})\r\n\r\n\r\n\r\n// https://api.themoviedb.org/3/movie/550?api_key=55881c34587ea582a685d26399d1be47","import { createSelector } from 'reselect';\r\n\r\nexport const selectGenres = state => state.genres;\r\n\r\nexport const selectGenreList = createSelector(\r\n    [selectGenres],\r\n    genres => genres.genreList\r\n);\r\n\r\n\r\n\r\n\r\n","import api from '../../api/api';\r\n\r\nimport MovieActionTypes from './movies.types';\r\n\r\nexport const fetchMoviesByCriteria = (formValues, page, isNewQuery) => async dispatch => {    //maybe just page instead of isNewQury\r\n  // console.log('PAYLOAD INSIDE MOVIE BY CRITEIRA REDUCER', result)\r\n    let endPoint = 'discover/movie?api_key=55881c34587ea582a685d26399d1be47';\r\n    const endPointAppendix = Object.entries(formValues).map(([query, value]) => {\r\n        // console.log('END POINT APPENDIX', query, value);\r\n        return query === 'vote_average' ? `${query}.gte=${value}` : `${query}=${value}`\r\n      }).join('&');     //there got to be a better way\r\n        \r\n\r\n    endPoint = endPointAppendix ? `${endPoint}&${endPointAppendix}` : endPoint;\r\n    console.log('END POINT', endPoint)\r\n    let data;\r\n    await api.get(endPoint).\r\n    then(response => { data = response.data}).\r\n    catch(error => console.log('ERROR FROM FETCH BY CRITERIA REDUCER', error));\r\n    console.log('REDUCER CRITERA MOVIES DATA', data)\r\n    \r\n    dispatch({\r\n        type: MovieActionTypes.FETCH_BY_CRITERIA,\r\n        payload: {\r\n            movies: data.results,\r\n            totalPages: data.total_pages, \r\n            isNewQuery: isNewQuery, \r\n            page: data.page\r\n        }\r\n    });\r\n};\r\n\r\nexport const fetchMoviesByGenre = (genreId, page) => async dispatch => {\r\n  let data;\r\n  await api.get(\r\n    `discover/movie?api_key=55881c34587ea582a685d26399d1be47&page=${page}&with_genres=${genreId}`\r\n  ).then(response => data = response.data )\r\n  // movies = data.results.map(movie => ({ movie: { backdrop_path, genre_ids, original_language, original_title, overview, poster_path, release_date, title, vote_average }}));\r\n  \r\n\r\n  // const { results: movies, total_pages: totalPages, page } = data;\r\n\r\n  dispatch({\r\n    type: MovieActionTypes.FETCH_MOVIES_BY_GENRE,\r\n    payload: { \r\n        id: genreId,\r\n        movies: data.results,    //probably dont need to destructure 'page' \r\n        totalPages: data.total_pages,\r\n        page: data.page\r\n    }\r\n  });\r\n};\r\n\r\nexport const fetchRandomMovie = () => async dispatch => {\r\n  const latestResponse = await api.get(\r\n    'movie/latest?api_key=55881c34587ea582a685d26399d1be47&language=en'\r\n  );\r\n  const latestMovieId = latestResponse.data.id;\r\n  const randomMovieId = Math.ceil(Math.random() * latestMovieId); //maybe sholdt be ceil!!!\r\n  const randomResponse = await api.get(\r\n    `movie/${randomMovieId}?api_key=55881c34587ea582a685d26399d1be47`\r\n  );\r\n  const randomMovie = randomResponse.data;\r\n  \r\n  console.log('randomMovie', randomMovie)\r\n  dispatch({\r\n    type: MovieActionTypes.FETCH_RANDOM_MOVIE,\r\n    payload: randomMovie\r\n  });\r\n};\r\n\r\nexport const fetchBestMovies = (page = 1) => async dispatch => {\r\n  let data;\r\n  await api.get(\r\n    `movie/top_rated?api_key=55881c34587ea582a685d26399d1be47&page=${page}&language=en-US`\r\n  ).then(response => data = response.data)\r\n  // .catch(error => alert(error));\r\n\r\n  console.log('BEST MOVIESSSS',data)\r\n  \r\n  dispatch({\r\n    type: MovieActionTypes.FETCH_BEST_MOVIES,\r\n    payload: {\r\n      page: data.page,\r\n      movies: data.results,\r\n      totalPages: data.total_pages\r\n    }\r\n  });\r\n};\r\n","import { createSelector } from 'reselect';\r\n\r\nconst selectThemes = state => state.themes;\r\n\r\nexport const selectCurrentTheme = createSelector(\r\n    [selectThemes],\r\n    themes => themes.currentTheme\r\n);","import { createSelector } from 'reselect';\r\n\r\nexport const selectModal = state => state.modal;\r\n\r\nexport const selectIsActive = createSelector(\r\n    [selectModal],\r\n    modal => modal.isActive\r\n);\r\n\r\nexport const selectMovie = createSelector(\r\n    [selectModal],\r\n    modal => modal.movie\r\n);\r\n\r\n\r\n\r\n\r\n","import { createSelector } from 'reselect';\r\n\r\nconst selectMovies = state => state.movies;\r\n\r\nexport const selectRandomMovie = createSelector(\r\n    [selectMovies],\r\n    movies => movies.randomMovie\r\n);\r\n\r\nexport const selectBestMovies = createSelector(\r\n    [selectMovies],\r\n    movies => {console.log('SELECTING BET MOVIES', movies.bestMovies); return movies.bestMovies}\r\n);\r\n\r\nexport const selectMoviesByCriteria = createSelector(\r\n    [selectMovies],\r\n    movies => movies.moviesByCriteria\r\n);\r\n\r\nexport const selectAllMoviesByGenre = createSelector(\r\n    [selectMovies],\r\n    movies => movies.moviesByGenre\r\n);\r\n\r\nexport const selectMoviesByGenre = genreId => {\r\n    return createSelector(\r\n        [selectAllMoviesByGenre],\r\n        moviesByGenre => moviesByGenre[genreId]\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import ModalActionTypes from \"./modal.types\";\r\n\r\nexport const openModal = movie => ({\r\n    type: ModalActionTypes.OPEN_MODAL,\r\n    payload: movie\r\n});\r\n\r\nexport const closeModal = () => ({\r\n    type: ModalActionTypes.CLOSE_MODAL\r\n});","import styled, { css } from 'styled-components';\r\n\r\nexport const StyledItem = styled.div`\r\n    display: flex;\r\n    align-items: flex-end;\r\n    overflow: hidden;\r\n\r\n    ${({isListItem, poster}) => {\r\n        if (isListItem) \r\n            return css`\r\n                position: relative;\r\n                ${'' /* display: flex; */}\r\n                ${'' /* flex-direction: column; */}\r\n                ${'' /* align-items: stretch; */}\r\n                cursor: pointer;\r\n                ${'' /* transition: align-items .1s linear; */}\r\n                ${'' /* padding-top: auto; */}\r\n\r\n                & > img {\r\n                    display: block;\r\n                    position: absolute;\r\n                    left: 0;\r\n                    bottom: 0;\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    object-fit: cover;\r\n                    z-index: 0;\r\n                    transition: transform .25s ease-in;\r\n                }\r\n                \r\n                & > div {\r\n                    ${'' /* display: flex; */}\r\n                    flex: 1;\r\n                    ${'' /* flex-direction: column;\r\n                    justify-content: flex-end; */}\r\n                    height: 30%;\r\n                    z-index: 1;\r\n                    background-color: ${({ theme }) => theme.item.bgColor};\r\n                    padding: .7rem 1rem;\r\n\r\n                    & > h3,\r\n                    & > p {\r\n                        color: ${({ theme }) => theme.item.textColor};\r\n                    }\r\n\r\n                    & > h3 {\r\n                        margin-bottom: .5rem;\r\n                    }\r\n                }\r\n            `;\r\n        }\r\n    }\r\n\r\n    &:hover > img {\r\n        transform: scale(1.02);\r\n    }\r\n`;","import { createSelector } from 'reselect';\r\n\r\nexport const selectLanguages = state => state.languages;\r\n\r\nexport const selectLanguageList = createSelector(\r\n    [selectLanguages],\r\n    languages => languages.languageList\r\n);\r\n","import React, { useState, useRef, useCallback } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { openModal } from '../../redux/modal/modal.actions';\r\n\r\nimport Img from 'react-image';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nimport { StyledItem } from './MovieItem.style';\r\nimport { selectLanguageList } from '../../redux/languages/languages.selector';\r\n\r\nconst MovieItem = ({ isListItem, movie, className, languages, openModal }) => {\r\n    const [ isImgLoaded, setIsImgLoaded] = useState(false);\r\n\r\n    const {\r\n        title,\r\n        overview,\r\n        vote_average: ratings,\r\n        release_date: releaseDate,\r\n        poster_path: poster,\r\n        backdrop_path: backdrop,\r\n        profile_path: profile,\r\n        original_language: languageId\r\n    } = movie;\r\n  \r\n    //maybe backdroppath instead of poster path\r\n    // let {\r\n    //   movie: {\r\n    //     title,\r\n    //     overview,\r\n    //     vote_average: ratings,\r\n    //     release_date: releaseDate,\r\n    //     poster_path: poster,\r\n    //     original_language: languageId\r\n    //   },\r\n    //   className,\r\n    //   languages\r\n    // } = this.props;\r\n    \r\n\r\n  // const languageUnabrreviated = languages.filter(\r\n  //   language => language.value === languageId\r\n  // )[0].title;\r\n\r\n \r\n\r\n  const onClick = () => {\r\n    if (isListItem)  {                          //maybe theres a better way to do this without conditional\r\n      openModal(movie);\r\n    }\r\n  } \r\n\r\n  \r\n  const observer = useRef();\r\n  const itemRef = useCallback(item => {\r\n    // if (loading) return\r\n    if (observer.current) \r\n      observer.current.disconnect();\r\n\r\n    observer.current = new IntersectionObserver(entries => {\r\n      if (entries[0].isIntersecting && !isImgLoaded) {\r\n        setIsImgLoaded(true);\r\n      }\r\n    }, {rootMargin: '300px'});\r\n    if (item) observer.current.observe(item)\r\n  }, [isImgLoaded])  \r\n\r\n  const renderItemImg = () => {\r\n    console.log('RENDERING ITEM IMAGE');\r\n    return isImgLoaded ?\r\n      <img src={`https://image.tmdb.org/t/p/w500/${poster}`} className={`${className}__img`}/>\r\n         :\r\n      null \r\n  }\r\n\r\n  return (\r\n    <StyledItem className={`${className}__item`} onClick={onClick} isListItem ref={itemRef}>\r\n    \r\n      {\r\n        isListItem                        ?\r\n                     \r\n    <>\r\n    {renderItemImg()} {/*maybe just set the backgonr as img instead of img el*/}\r\n        <div>\r\n          <h3>{title}</h3>\r\n          {/* <p>{releaseDate}</p> */}\r\n        </div>\r\n    </>\r\n                                         :\r\n\r\n      <>\r\n      <div className={`${className}__info`}>\r\n        <h2>{title}</h2>\r\n        <p>{overview}</p>\r\n        <p>Ratings: {ratings}</p>\r\n        <p>Release Date: {releaseDate}</p>\r\n        <p>Language: {languages[languageId]}</p>\r\n      </div>\r\n      <div className={`${className}__img-container`}>\r\n        {/* <img src={`https://image.tmdb.org/t/p/w200/${poster}`} className={`${className}__img`}/> */}\r\n        <Img \r\n            className='img'\r\n            src={[\r\n                `https://image.tmdb.org/t/p/w200/${poster}`,\r\n            ]}\r\n            loader={<ClipLoader size={50} color={\"#123abc\"} />}\r\n            unloader={'../../assests/unfound.jpg'}\r\n        />\r\n      </div>\r\n      </> \r\n     \r\n\r\n\r\n      }\r\n    </StyledItem>\r\n  );\r\n}\r\n\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    languages: selectLanguageList\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    openModal: (movie, sectionNum) => dispatch(openModal(movie, sectionNum))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MovieItem);\r\n","import styled, { createGlobalStyle, css } from 'styled-components';\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n    ${'' /* @import url('https://fonts.googleapis.com/css?family=Bebas+Neue|Solway|Raleway|Montserrat&display=swap'); */}\r\n\r\n    :root {\r\n        font-size: 100%;\r\n    }\r\n    ${'' /* $page-colors: (\r\n        0: 170, 120, 166,\r\n        1: 184, 186, 200,\r\n        2: 180, 214, 211,\r\n        3: 178, 255, 214,\r\n    ) */}\r\n\r\n    * {\r\n        margin: 0;\r\n        padding: 0;\r\n        box-sizing: border-box;\r\n        font-family: inherit;\r\n    }\r\n\r\n    a:link,\r\n    a:active,\r\n    a:visited,\r\n    a:focus {\r\n        text-decoration: none;\r\n        color: none;\r\n    }\r\n\r\n    ul {\r\n        list-style-type: none;\r\n    }\r\n\r\n    select, \r\n    input, \r\n    button {\r\n        outline: none;\r\n        border: none;\r\n    }\r\n\r\n    button {\r\n        cursor: pointer;\r\n    }\r\n\r\n    body {\r\n        font-family: 'Montserrat', sans-serif;\r\n    }\r\n`;\r\n\r\nexport const StyledPage = styled.div`\r\n    position: relative;\r\n    height: 100vh;\r\n    padding: 2.5rem 0;\r\n\r\n    & > h1 {\r\n        text-transform: uppercase;\r\n        margin-left: 4rem;\r\n        font-weight: 900;\r\n        font-size: 5rem;\r\n        text-shadow: 1px 2px 0 black, 1px 2px .5rem black;\r\n        line-height: 1;\r\n        color: ${({ theme, page }) => theme.page.colors[page]};\r\n        margin-bottom: 3.5rem;\r\n    }\r\n\r\n    ${({ page }) => {\r\n        if (page === 1) {\r\n            return css`\r\n                & > h1 {\r\n                    margin-bottom: 10rem;\r\n                }\r\n            `\r\n        }\r\n    }}\r\n`;\r\n\r\nexport const themes = {\r\n    dark: {\r\n        sidebar: {\r\n            bgColor: 'rgba(0, 0, 0, .85)'\r\n        },\r\n        page: {\r\n            bgColor: 'rgba(0, 0, 0, .9)',\r\n            colors: [\r\n                'rgba(137, 0, 242, 1)',\r\n                'rgba(177, 0, 232, 1)',\r\n                'rgba(209, 0, 209, 1)',\r\n                'rgba(229, 0, 164, 1)'\r\n            ]\r\n        },\r\n        genreColor: 'rgba(255, 255, 255, .9)',\r\n        item: {\r\n            bgColor: 'rgba(0, 0, 0, .6)',\r\n            textColor: 'rgba(255, 255, 255, .9)'\r\n        },\r\n        reverse: 'rgba(0, 0, 0, .05)',\r\n        modal: {\r\n            textColor: '255, 255, 255',\r\n            bgColor: '20, 20, 20'\r\n        }\r\n    },\r\n    light: {\r\n        sidebar: {\r\n            bgColor: 'rgba(0, 0, 0, .85)'\r\n        },\r\n        page: {\r\n            bgColor: 'rgba(0, 0, 0, .9)',\r\n            colors: [\r\n                'rgba(137, 0, 242, 1)',\r\n                'rgba(177, 0, 232, 1)',\r\n                'rgba(209, 0, 209, 1)',\r\n                'rgba(229, 0, 164, 1)'\r\n            ]\r\n        },\r\n        genreColor: 'rgba(255, 255, 255, .9)',\r\n        item: {\r\n            bgColor: 'rgba(0, 0, 0, .6)',\r\n            textColor: 'rgba(255, 255, 255, .9)'\r\n        },\r\n        reverse: 'rgba(0, 0, 0, .85)',\r\n        modal: {\r\n            textColor: '0, 0, 0',\r\n            bgColor: '64, 53, 31'\r\n        }\r\n    }\r\n  };","import styled, { css } from 'styled-components';\r\nimport { StyledPage } from '../../GlobalStyle';\r\n\r\n\r\n\r\n// export const StyledTitle = styled.h1`\r\n//     grid-row: 1 / 2;\r\n// `;\r\n\r\n\r\n\r\n\r\n\r\n// export const StyledRandomPage = styled(StyledPage)`\r\n//     grid-template-rows: max-content;\r\n//     grid-row-gap: 15vh;\r\n    \r\n\r\n    \r\n// `;\r\n\r\n\r\n\r\nexport const StyledRandomPage = styled.div`\r\n    position: relative;\r\n    ${'' /* display: flex;\r\n    flex-direction: column; */}\r\n    padding: 6rem 8rem 0 4.5rem;\r\n\r\n    & > .generator {\r\n        position: absolute;\r\n        right: 3rem;\r\n        top: 3rem;\r\n        align-self: flex-end;\r\n        font-size: 1.5rem;\r\n        margin-bottom: 3.5rem;\r\n        background-color: rgba(255, 255, 255, .7);\r\n        border-radius: 15px;\r\n        padding: .5rem 1rem;\r\n    }\r\n\r\n    & > .movie {\r\n        display: grid;\r\n        grid-template-columns: auto 1fr;\r\n        grid-template-rows: min-content;\r\n        grid-column-gap: 2rem;\r\n        grid-row-gap: 2.5rem;\r\n        height: 100vh;\r\n        background-image: ${({ modal}) => css`linear-gradient(to right, rgba(theme.modal.bgColor, 1) 30%, rgba(theme.modal.bgColor, .85))`}, \r\n                            url(https://image.tmdb.org/t/p/w780/h1JzHjFJXNJb3QTCwWmm2UbWEwn.jpg);\r\n        background-size: cover;\r\n        background-position: center;\r\n        ${'' /* background-repeat: no-repeat; */}\r\n        ${'' /* z-index: 1000; */}\r\n        transition: opacity .15s linear;\r\n\r\n\r\n\r\n        & > .exit {\r\n            position: absolute;\r\n            top: 2rem;\r\n            right: 2rem;\r\n            cursor: pointer;\r\n        }\r\n\r\n        & > .title {\r\n            grid-column: 1 / 3;\r\n            font-size: 2rem;\r\n            color: rgba(${({ theme }) => theme.modal.textColor}, .9);\r\n\r\n            & > .genres {\r\n                color: rgba(${({ theme }) => theme.modal.textColor}, .7);\r\n                margin-top: 6.5px;\r\n                font-size: 1rem;\r\n                line-height: 1;\r\n            }\r\n\r\n            & > .year {\r\n                font-size: 1.8rem;\r\n                font-weight: 100;\r\n                color: rgba(${({ theme }) => theme.modal.textColor}, .7); \r\n            }\r\n\r\n            & > .rating {\r\n                font-weight: 700;\r\n                font-size: 1.5rem;\r\n                color: rgba(${({ theme }) => theme.modal.textColor}, .7);\r\n            }\r\n\r\n            & > .language {\r\n                font-weight: 700;\r\n                font-size: 1.35rem;\r\n                color: rgba(${({ theme }) => theme.modal.textColor}, .7);\r\n            }\r\n        }\r\n\r\n        & > .imgContainer\r\n        & > .content {\r\n            \r\n        }\r\n\r\n        & > .imgContainer {\r\n            ${'' /* display: flex; */}\r\n            ${'' /* justify-content: center; */}\r\n            overflow: hidden;\r\n            ${'' /* max-height: 30rem; */}\r\n            ${'' /* max-height: 40rem; */}\r\n            ${'' /* align-items: center; */}\r\n\r\n            & > img {\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n                border-radius: 10px;\r\n\r\n            }\r\n        }\r\n\r\n        & > .content {\r\n            display: flex;\r\n            flex-direction: column;\r\n\r\n            & > .overview {\r\n                font-size: 1.7rem;\r\n                font-weight: 700;\r\n                margin-bottom: auto;\r\n                color: rgba(${({ theme }) => theme.modal.textColor}, .9);\r\n\r\n                & > span {\r\n                    margin-top: 1rem;\r\n                    display: block;\r\n                    font-size: 1.1rem;\r\n                    color: rgba(${({ theme }) => theme.modal.textColor}, .7);\r\n                    font-weight: 100;\r\n                    line-height: 1.55;\r\n                    padding-right: 10rem;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n                ${'' /* opacity: 1;\r\n                visibility: visible; */}\r\n    ${'' /* ${({ isActive }) => {\r\n        if (isActive) \r\n            return css`\r\n                opacity: 1;\r\n                visibility: visible;\r\n                z-index: 10;\r\n            `;\r\n        return css`\r\n            opacity: 0;\r\n            visibility: hidden;\r\n        `\r\n    }} */}\r\n\r\n`;\r\n\r\n\r\n","import React, { Component, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { fetchRandomMovie } from '../../redux/movies/movies.actions';\r\nimport { selectRandomMovie } from '../../redux/movies/movies.selector';\r\n\r\nimport MovieItem from '../../components/MovieItem/MovieItem.component';\r\nimport Img from 'react-image';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nimport { StyledRandomPage, StyledTitle, StyledButton } from './Random.style';\r\nimport { selectLanguageList } from '../../redux/languages/languages.selector';\r\nimport { selectGenreList } from '../../redux/genres/genres.selector';\r\n\r\nconst Random = props => {\r\n  const { fetchRandomMovie, movie, languages } = props;\r\n\r\n  const {\r\n      title,\r\n      genres,\r\n      overview,\r\n      vote_average: ratings,\r\n      release_date: releaseDate,\r\n      poster_path: poster,\r\n      backdrop_path: backdrop,\r\n      original_language: languageId\r\n  } = movie || {};\r\n\r\n  let genresNames;\r\n  \r\n  useEffect(() => {\r\n    if (!movie) {\r\n      fetchRandomMovie();\r\n    }\r\n  }, [])\r\n  \r\n  if (movie){\r\n    console.log('MOVIE INSIDE RANDOM', movie)\r\n    genresNames = genres.map(({ name }) => name);\r\n  }\r\n\r\n  return (\r\n    <StyledRandomPage page={0}>\r\n      <button className='generator' onClick={fetchRandomMovie}>\r\n        ain't hungry yet\r\n      </button>\r\n      {movie && \r\n      <div className='movie'>\r\n        <h2 className='title'>\r\n            {title || ''} &#8226;\r\n            <span className='year'>{`   (${releaseDate.substr(0,4)})  `}</span>&#8226;\r\n            <span className='rating'>{`  ${ratings}` || ''} &#9733;{' '} </span>&#8226;\r\n            <span className='language'>{`  ${languages[languageId]}`}</span>\r\n            <p className='genres'>{genresNames.join(', ')}</p>\r\n        </h2>\r\n        <div className='imgContainer'>\r\n            {/* <img src={`https://image.tmdb.org/t/p/w300/${poster}`}/> */}\r\n            <Img \r\n              className='img'\r\n              src={[\r\n                `https://image.tmdb.org/t/p/w300/${poster}`,\r\n              ]}\r\n              loader={<ClipLoader size={50} color={\"#123abc\"} />}\r\n              unloader={<img src={'../../assets/unfound.jpg'} />}\r\n            />\r\n        </div> \r\n        <div className='content'>\r\n            <p className='overview'>Overview<span>{overview || ''}</span></p>\r\n        </div>\r\n      </div>}\r\n    </StyledRandomPage>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      // {/* <StyledTitle className='random__heading'>a random appetizer</StyledTitle> */}\r\n      \r\n      // {/* {movie && (\r\n      //   <MovieItem movie={movie} className='random' />\r\n      // )} */}\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    movie: selectRandomMovie,\r\n    languages: selectLanguageList,\r\n    // genres: selectGenreList\r\n});\r\n\r\nexport default connect(mapStateToProps, { fetchRandomMovie })(Random);\r\n","import { createSelector } from 'reselect';\r\n\r\nexport const selectForm = state => state.form.CustomForm;\r\n\r\nexport const selectFormValues = createSelector(\r\n    [selectForm],\r\n    form => form.values\r\n);\r\n\r\nexport const selectSubmitSucceeded = createSelector(\r\n    [selectForm],\r\n    form => form.submitSucceeded\r\n);\r\n\r\nexport const selectResubmited = createSelector(\r\n    [selectForm],\r\n    form => form.resubmitted\r\n);\r\n\r\n\r\n\r\n\r\n","import styled, { css } from 'styled-components';\r\n\r\nexport const StyledListContainer = styled.div`\r\n    position: relative;\r\n    ${'' /* overflow: hidden; */}\r\n    margin-bottom: 4rem;\r\n    ${'' /* display: flex;\r\n            height: 15rem;\r\n            width: 100%;\r\n            align-item: center;\r\n            justify-content: center; */}\r\n\r\n    ${({ isLoading }) => {\r\n        if (isLoading)\r\n            return css`\r\n            display: flex;\r\n            height: 15rem;\r\n            width: 100%;\r\n            align-items: center;\r\n            justify-content: center;\r\n        `\r\n        return css``\r\n        }\r\n    }\r\n\r\n    &::before,\r\n    ${'' /* &::after {\r\n        content: '';\r\n        position: absolute;\r\n        width: 3rem;\r\n        height: 3rem;\r\n        background-color: red;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        z-index: 100;\r\n        opacity: 1;\r\n        visibility: visible;\r\n        pointer-events: none;\r\n\r\n        transition: opacity .15s linear;\r\n    }\r\n\r\n    &::before {\r\n        left: 2%;\r\n\r\n        ${({ atLeftEnd }) => atLeftEnd ? css`\r\n            opacity: 0;\r\n            visibility: hidden;\r\n        ` : ''}\r\n    }\r\n    \r\n    &::after {\r\n        right: 2%;\r\n        \r\n        ${({ atRightEnd }) => atRightEnd ? css`\r\n            opacity: 0;\r\n            visibility: hidden;\r\n        ` : ''}\r\n    } */}\r\n\r\n    & > .leftEnd,\r\n    & > .rightEnd {\r\n        position: absolute;\r\n        ${'' /* width: 3rem;\r\n        height: 3rem; */}\r\n        font-size: 6rem;\r\n        color: rgba(0, 0, 0, .5);\r\n        line-height: 1;\r\n        text-shadow: 1px 1px .8rem rgba(255, 255, 255, .9994);\r\n        ${'' /* border: 1px solid black; */}\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        z-index: 100;\r\n        opacity: 1;\r\n        cursor: pointer;\r\n        transition: opacity .15s linear;\r\n\r\n        &:hover {\r\n            color: rgba(0, 0, 0, .75);\r\n            text-shadow: 1px 1px 11.8rem rgba(0, 0, 0, .99964);\r\n        }\r\n    }\r\n\r\n    & > .leftEnd {\r\n        left: 2%;\r\n\r\n        ${({ atLeftEnd }) => atLeftEnd ? css`\r\n            opacity: 0;\r\n            visibility: hidden;\r\n        ` : ''}\r\n    }\r\n\r\n    & > .rightEnd {\r\n        right: 2%;\r\n        \r\n        ${({ atRightEnd }) => atRightEnd ? css`\r\n            opacity: 0;\r\n            visibility: hidden;\r\n        ` : ''}\r\n    }\r\n`;\r\n\r\nexport const StyledList = styled.div`\r\n    display: grid;\r\n    grid-auto-flow: column;\r\n    grid-auto-columns: 25rem;\r\n    grid-auto-rows: 15rem;\r\n    grid-column-gap: .2rem;\r\n    overflow-x: scroll;\r\n    ${'' /* opacity: .7;\r\n    transition: opacity .1s linear; */}\r\n    ${'' /* transform: translateX(${({ offset }) => {console.log('OFFSET', offset); return css`${offset}px`}});\r\n    transition: transform .15s linear; */}\r\n    scroll-behavior: smooth;\r\n\r\n    &::-webkit-scrollbar {\r\n        display: none;\r\n    }\r\n\r\n    ${'' /* &:hover {\r\n        & > div > div {\r\n                height: 50%;\r\n        } \r\n    } */}\r\n`;\r\n\r\nexport const StyledTitle = styled.h2`\r\n    font-size: 1.5rem;\r\n    color: ${({ theme: { genreColor } }) => genreColor};\r\n    text-transform: uppercase;\r\n    margin: 0 0 1rem 2.5rem;\r\n    font-weight: 900;\r\n`;","import React, { Component, useState, useEffect, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { fetchMoviesByGenre, fetchBestMovies, fetchMoviesByCriteria } from '../../redux/movies/movies.actions';\r\nimport { updateFormValues, resubmit } from '../../redux/form/form.actions';\r\nimport { selectMoviesByGenre, selectBestMovies, selectMoviesByCriteria } from '../../redux/movies/movies.selector';\r\nimport { selectGenreList } from '../../redux/genres/genres.selector';\r\nimport { selectFormValues, selectSubmitSucceeded } from '../../redux/form/form.selector';\r\n\r\nimport MovieItem from '../MovieItem/MovieItem.component';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nimport { StyledListContainer, StyledList, StyledTitle } from './MovieList.style';\r\n\r\nexport const ListTokens = {\r\n  GENERAL: 'GENERAL',\r\n  GENRE: 'GENRE',\r\n  CRITERIA: 'CRITERIA'\r\n}\r\n\r\nconst MovieList = (props) => {\r\nconst { data, fetchMovies, values, submitSucceeded, resubmitted, listToken, valuesChanged, setValuesUnchanged } = props;\r\n\r\n  const [ atLeftEnd, setAtLeftEnd ] = useState(true);\r\n  const [ atRightEnd, setAtRightEnd ] = useState(false);\r\n  const [ scrollOffset, setScrollOffset ] = useState(0);\r\n\r\n  useEffect(() => {\r\n    console.log('INSIDE MOVIE LIFE USEEFFECT', values)\r\n    // formValues ? fetchMovies(formValues) : \r\n    if (!data || (listToken === ListTokens.CRITERIA && valuesChanged)) {\r\n      fetchMovies();\r\n      // props.setValuesUnchanged();\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    // formValues ? fetchMovies(formValues) : \r\n    if (data && listToken === ListTokens.CRITERIA && valuesChanged) {\r\n      fetchMovies();\r\n      props.setValuesUnchanged();\r\n    }\r\n  }, [values])\r\n\r\n  const onWheel = (e, delta = 100) => {\r\n    const { target, deltaY } = e;\r\n    console.log('WHEELING HORZIONTALLY', delta, target)\r\n    deltaY > 0 ? target.parentElement.parentElement.scrollLeft += delta : target.parentElement.parentElement.scrollLeft -= delta;\r\n    // e.stopPropagation();\r\n    e.preventDefault();\r\n  }\r\n  \r\n  const rootElemRem = 16;\r\n  const delta = 25.2 * rootElemRem * 3;\r\n\r\n  const scroll = ({ target }, dir) => {\r\n    const list = target.parentElement.lastElementChild;\r\n    const newOffset = scrollOffset + delta * dir\r\n    \r\n    list.scrollTo({\r\n      top: 0, \r\n      left: newOffset, \r\n      behavior: 'smooth' \r\n    });\r\n\r\n    setScrollOffset(prevOffset => newOffset)\r\n\r\n    const { clientWidth, scrollWidth } = list;\r\n    const maxScrollLeft = scrollWidth - clientWidth;\r\n\r\n    if (newOffset === 0) {\r\n      setAtLeftEnd(true);\r\n    }else if (newOffset === maxScrollLeft) {\r\n      setAtRightEnd(true);\r\n    }else {\r\n      setAtLeftEnd(false);\r\n      setAtRightEnd(false);\r\n    }\r\n\r\n    console.log('scrolling CURRENT LIST', data)\r\n\r\n    if (newOffset >= clientWidth - 650) {\r\n      const { page, totalPages} = data;\r\n      if (page + 1 <= totalPages) {\r\n      console.log('REAHED END OF CURRENT LIST')\r\n        /*values? fetchMovies(values, data.page + 1):*/ fetchMovies(data.page + 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  \r\n  // const keepTrackOfEnds = e => {\r\n  //   const { target, deltaY } = e;\r\n  //   console.log('WHEELING HORZIONTALLY', delta, target)\r\n  //   deltaY > 0 ? target.parentElement.parentElement.scrollLeft += delta : target.parentElement.parentElement.scrollLeft -= delta;\r\n  // }\r\n  console.log('RENDERING NEW MOVIE LIST', data)\r\n\r\n\r\n  return (\r\n    \r\n    <StyledListContainer atLeftEnd={atLeftEnd} atRightEnd={atRightEnd} isLoading={ data ? false : true}>\r\n      <span className=\"leftEnd\" onClick={e => scroll(e, -1)}>&#8249;</span>\r\n      <span className=\"rightEnd\" onClick={e => scroll(e, 1)}>&#8250;</span>\r\n      {data ? \r\n          <StyledList offset={scrollOffset}>     {/*onWheel={onWheel} onScroll={onScroll}*/}\r\n            {\r\n              data.movies.map(movie => <MovieItem movie={movie} isListItem/>) \r\n            }\r\n          </StyledList> :\r\n          <ClipLoader size={50} color={\"#123abc\"} />\r\n      }\r\n    </StyledListContainer>\r\n  )\r\n}\r\n\r\nconst mapStateToPropsGenres = (state, { genreId }) => ({\r\n  genres: selectGenreList(state),\r\n  data: selectMoviesByGenre(genreId)(state),\r\n});\r\n\r\nconst mapDispatchToPropsGenres = (dispatch, { genreId, fetcher }) => ({\r\n  fetchMovies: (pageNum = 1) => dispatch(fetcher(genreId, pageNum))\r\n});\r\n\r\nconst mapStateToPropsCriteria = (state) => ({\r\n  data: selectMoviesByCriteria(state),\r\n  formValues: selectFormValues(state),\r\n  submitSucceeded: selectSubmitSucceeded(state)\r\n});\r\n\r\nconst mapDispatchToPropsCriteria = (dispatch, { values, fetcher }) => ({\r\n  fetchMovies: (pageNum = 1) => dispatch(fetcher(values, pageNum))\r\n});\r\n\r\nconst mapStateToProps = (state, { selector }) => ({\r\n  data: selector(state), //isBestMovies ? selectBestMovies(state) : selectMoviesByCriteria(state)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch, { fetcher, formValues }) => ({\r\n  fetchMovies: (pageNum = 1) => dispatch(fetcher(pageNum))\r\n});\r\n\r\nexport const GenreMovieList = connect(mapStateToPropsGenres, mapDispatchToPropsGenres)(MovieList);\r\nexport const CriteriaMovieList = connect(mapStateToPropsCriteria, mapDispatchToPropsCriteria)(MovieList);\r\nexport const GeneralMovieList = connect(mapStateToProps, mapDispatchToProps)(MovieList);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { fetchBestMovies } from '../redux/movies/movies.actions';\r\nimport { selectBestMovies } from '../redux/movies/movies.selector';\r\n\r\nimport { GeneralMovieList }  from '../components/MovieList/MovieList.component';\r\nimport MovieItem from '../components/MovieItem/MovieItem.component';\r\n\r\nimport { StyledPage } from '../GlobalStyle';\r\n\r\nexport class BestMovies extends Component {\r\n  // renderBestMoviesList() {\r\n  //     console.log('BEST MOVIES DID MOUNT',this.props)\r\n  //   return this.props.bestMovies.map(movie => <MovieItem movie={movie} />);\r\n  // }\r\n\r\n\r\n  render() {\r\n    const { bestMovies } = this.props;\r\n    console.log('INSIDE BEST MOVIES', this.props, bestMovies)\r\n\r\n    // console.log(bestMovies ? [...bestMovies.movies] : 'NNNNNNNNNNNNNNNNNNNNOT BEST MOVIES');\r\n    \r\n      // <StyledPage>\r\n      //   {this.props.bestMovies && this.renderBestMoviesList()}\r\n      // </StyledPage>\r\n\r\n      return (\r\n      <StyledPage page={1}>\r\n        <h1>Top Rated</h1>\r\n    { //   {bestMovies ?\r\n        <GeneralMovieList fetcher={fetchBestMovies} selector={selectBestMovies}/> \r\n   //     :\r\n     //   <PendingIndicator />\r\n      //  }\r\n    }\r\n      </StyledPage>\r\n      );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    bestMovies: selectBestMovies\r\n});\r\n\r\nconst mapStateDispatchToProps = dispatch => ({\r\n    fetchMovies: pageNum => dispatch(fetchBestMovies(pageNum)) \r\n});\r\n\r\nexport default connect(mapStateToProps, mapStateDispatchToProps)(BestMovies);\r\n","import styled, { css } from 'styled-components';\r\n\r\nexport const StyledListComplex = styled.div`\r\n    ${'' /* overflow-x: hidden; */}\r\n`;","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { selectGenreList } from '../../redux/genres/genres.selector';\r\nimport { fetchMoviesByGenre } from '../../redux/movies/movies.actions';\r\nimport { selectAllMoviesByGenre } from '../../redux/movies/movies.selector';\r\n\r\nimport { GenreMovieList } from '../MovieList/MovieList.component';\r\n\r\nimport { StyledListComplex } from './MovieListComplex.style';\r\nimport { StyledListContainer, StyledTitle } from '../MovieList/MovieList.style';\r\n\r\nconst MovieListComplex = props => {\r\n  // const [ genreNum, setGenreNum ] = useState(5);\r\n\r\n  const { moviesGalore, genres } = props;\r\n  const genresLength = Object.keys(genres).length;\r\n  console.log('PROPS FROM INSIDE MOVIE LIST COMPOLEX RENDER', genresLength)\r\n  \r\n\r\n\r\n\r\n  const [ genresNum, setGenresNum ] = useState(Math.max(5, Object.keys(moviesGalore).length));\r\n  const [ hasMore, setHasMore ] = useState(true);\r\n\r\n  const addThreeMoreGenres = () => {\r\n\r\n\r\n    setGenresNum(prevNum => prevNum + 3);\r\n    console.log('ADDING THREE MORE GENRES')\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log('USEEFFECT COMPLEX LIST', hasMore)\r\n\r\n    if (genres.length <= genresNum - 1) {\r\n      setGenresNum(genres.length);                  //MIGHT BELONG IN USEEFFECT\r\n      setHasMore(false);\r\n    }\r\n\r\n    return () => console.log('BYEEEEEEEEEEEEEEEEEE')\r\n  }, [genresNum])\r\n\r\n  console.log('BEFORE RENDER COMPLEX LIST', hasMore)\r\n\r\n\r\n  const observer = useRef();\r\n  const lastListRef = useCallback(list => {\r\n    // if (loading) return\r\n    if (observer.current) \r\n      observer.current.disconnect();\r\n\r\n    observer.current = new IntersectionObserver(entries => {\r\n      if (entries[0].isIntersecting && hasMore) {\r\n        setGenresNum(prevNum => prevNum + 3);\r\n      }\r\n    });\r\n    if (list) observer.current.observe(list)\r\n  }, [hasMore])                  //add loading to dependencies!!!\r\n\r\n\r\n  return (\r\n    <StyledListComplex id={'listComplex'}>\r\n      { \r\n        Object.entries(genres).slice(0, genresNum).map(([value, title], index) => {\r\n            return (\r\n              <div ref={index + 1 === genresNum ? lastListRef : null}>\r\n                <StyledTitle>{title}</StyledTitle> \r\n                <GenreMovieList isGenreList genreId={value} fetcher={fetchMoviesByGenre}/> {/*moviesGalore={moviesGalore[value].movies} listData={listData}*/}   \r\n              </div>\r\n            )\r\n          })\r\n      }\r\n    </StyledListComplex>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  genres: selectGenreList,\r\n  moviesGalore: selectAllMoviesByGenre             ///////////////////////TRIALLLLL\r\n});\r\n\r\nexport default connect(mapStateToProps)(MovieListComplex);\r\n","import React, { Component, useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { fetchMoviesByGenre } from '../redux/movies/movies.actions';\r\nimport { selectGenreList } from '../redux/genres/genres.selector';\r\nimport { selectAllMoviesByGenre } from '../redux/movies/movies.selector';\r\n\r\n\r\nimport MovieItem from '../components/MovieItem/MovieItem.component';\r\nimport MovieListComplex from '../components/MovieListComplex/MovieListComplex.component';\r\n\r\nimport { StyledPage } from '../GlobalStyle';\r\n\r\nconst Explore = props => {\r\n  // state = { \r\n  //   // genreId: 12,// this.props.match.params.genre,                ///check this out\r\n  //   // page: 1,\r\n  //   isFetching: false\r\n  // };\r\n\r\n  const renderMovieList = () => { \r\n      console.log('rendering genre list')\r\n      if (this.props.movies.movies.length) {\r\n          return this.props.movies.movies.map(movie => (\r\n            <MovieItem movie={movie} />\r\n          \r\n          ));\r\n      }\r\n  };\r\n\r\n  const onSelectGenre = value => {\r\n      console.log('chacnged genre', value)\r\n    this.setState(prevState => ({\r\n        genreId: value,\r\n        page: 1\r\n    }));\r\n  }\r\n\r\n  const handleScroll = e => {\r\n    const { target } = e;\r\n    const { scrollHeight, scrollY } = target;\r\n    const bottomOffset = scrollHeight - scrollY;\r\n\r\n    console.log('BOTTOM OFFSET BY GENRE', bottomOffset, e);\r\n    // const bottomOffset =\r\n    // document.documentElement.scrollHeight - (window.innerHeight + window.scrollY);\r\n    //   console.log('BOTTOM OFFSET', bottomOffset, window.innerHeight, window.scrollY, document.documentElement.scrollHeight)\r\n    // if (\r\n    //     bottomOffset >= 0 && bottomOffset <= 50\r\n    // //   bottomOffset <= 150 &&\r\n    // //   bottomOffset >= 0 //could take care of launching only if scroll DOWN NOT UP\r\n    // ) {\r\n    //     console.log('REACHED BOTTOM IN EXLPLORE hello')\r\n    //   this.setState(prevState => {\r\n    //     if (prevState.page < this.props.movies.totalPages) {\r\n    //       //could do better than  'this.props.movies.total_pages'\r\n    //       debugger;\r\n    //       return {\r\n    //         page: prevState.page + 1,\r\n    //         isFetching: true\r\n    //       };\r\n    //     }\r\n    //   });\r\n    // }\r\n  };\r\n\r\n  // async componentDidMount() {\r\n  //   const { genres, fetchMovies } = this.props;\r\n\r\n  //   // await genres.forEach(({ value }) => fetchMovies(value, 1));\r\n  //   // fetchMovies(genres[1].value, 1);\r\n  //   // fetchMovies(genres[2].value, 1);\r\n    \r\n  //   if (genres) {\r\n  //     console.log('FETCHING ALL MOVEIS OBJECT VALUES', Object.values(genres))\r\n  //     Object.keys(genres).forEach(value => fetchMovies(value, 1));\r\n  //     console.log('FETCHING ALL MOVEI BY GENRE', this.props)\r\n\r\n  //   }\r\n    \r\n  //   window.addEventListener('scroll', this.handleScroll);\r\n  //   window.addEventListener('wheel', this.handleScroll);\r\n  // }\r\n\r\n  // componentDidUpdate(prevProps, prevState) {\r\n    // const { genreId, page } = this.state;\r\n    // // const genreId = this.props.match.params.genre;\r\n    // console.log('SELECTED VALUE FROM EXPLORE UPDATE', this.state.genreId)\r\n    // if (this.state.genreId === prevState.genreId && this.state.page !== prevState.page) {\r\n    //   this.props.fetchMoviesByGenre(this.state.genreId, false, this.state.page);\r\n    // } else if (this.state.genreId !== prevState.genreId) {// if (prevState.genreId !== this.state.genreId) {\r\n    //     this.props.fetchMoviesByGenre(this.state.genreId, true, this.state.page);\r\n    // }\r\n\r\n    // window.addEventListener('scroll', this.handleScroll);\r\n  // }\r\n  \r\n  return (\r\n    <StyledPage page={2}>\r\n      <h1>explore by genre</h1>\r\n        <MovieListComplex />\r\n      {/* {console.log('about to render by genre list', this.props)}\r\n        {this.props.movies && this.renderMovieList()}\r\n        {this.state.isFetching && 'Loading...'} */}\r\n    </StyledPage>\r\n  );\r\n  \r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    movies: selectAllMoviesByGenre,          ///////////NOT SURE NEEDED\r\n    genres: selectGenreList\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchMovies: (genreId, page) => dispatch(fetchMoviesByGenre(genreId, page))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Explore);\r\n","import styled, { css } from 'styled-components';\r\nimport { Form } from 'redux-form';\r\n\r\n\r\n\r\nexport const StyledForm = styled.form`\r\n    display: grid;\r\n    height: 90%;\r\n    align-content: center;\r\n    grid-row-gap: 3rem;\r\n  \r\n    & > button {\r\n        justify-self: start;\r\n    }\r\n\r\n    & > select {\r\n        border-radius: 6px;\r\n        border: 1px solid rgba(0, 0, 0, .9);\r\n        padding: .5rem .65rem;\r\n    }\r\n`;\r\n\r\nexport const StyledGroup = styled.div`\r\n    & > * {\r\n        display: block;\r\n    }\r\n\r\n    & > input {\r\n        border-bottom: 2px solid rgba(0, 0, 0, .4);\r\n\r\n        &::-webkit-inner-spin-button, \r\n        &::-webkit-outer-spin-button {\r\n            -webkit-appearance: none;\r\n            ${'' /* margin: 0; */}\r\n        }\r\n    }\r\n\r\n    & > label {\r\n        margin-bottom: 1rem;\r\n    }\r\n\r\n`;\r\n\r\n","import React, { Component, useEffect } from 'react';\r\nimport { Field, Form, reduxForm } from 'redux-form';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { fetchMoviesByCriteria } from '../../redux/movies/movies.actions';\r\n\r\nimport Dropdown from '../Dropdown';\r\nimport DropdownList from 'react-widgets/lib/DropdownList'\r\nimport ReactDropdown from '../ReactDropdown/ReactDropdown.component';\r\nimport { selectLanguageList } from '../../redux/languages/languages.selector';\r\nimport { selectGenreList } from '../../redux/genres/genres.selector';\r\nimport { selectForm } from '../../redux/form/form.selector';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { StyledContainer, StyledForm, StyledGroup } from './CustomForm.style';\r\n\r\nconst renderSelect = ({ options, purpose, input, ...formProps }) => {           //not sure formpropess is needed\r\n    console.log('RENDERING SELECT OF CRITERIA', options)\r\n    return (\r\n       <select { ...input }>{/* defaultValue={label === 'Languages' ? 'en' : 35}>*/}\r\n           {renderOptions(options, purpose)}\r\n       </select>\r\n    );\r\n}\r\n\r\nconst renderOptions = (options, purpose) => {\r\n    let processedOptions = Object.entries(options).map(([value, option]) => {\r\n        return <option value={value}>{option}</option>             \r\n    });\r\n    processedOptions.unshift(<option value=''>{`Select a ${purpose}..`}</option>)\r\n    return processedOptions;\r\n}\r\n\r\nconst onSelectChange = formProps => value => formProps.input.onChange(value);\r\n\r\nconst renderInput = ({ input, label, placeholder, type, meta,  meta: { active, error, touched, visited } }) => {\r\n    console.log('METAMEATMETAMETA', meta);\r\n    const className = '' \r\n    return (\r\n        <StyledGroup>\r\n            {/* <label>{label}</label> */}\r\n            <input { ...input } autoComplete='off' placeholder={placeholder} type={type}/>\r\n            {error && touched && !active && renderError(error)}\r\n        </StyledGroup>\r\n    );\r\n}\r\n\r\nconst renderError = (error) => {\r\n    return (\r\n        <div className='ui error message'>\r\n            <div className='header'>{error}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\nconst CustomForm = ({ form, handleSubmit, mySubmit, className, genres, languages, reset, pristine, submitting, onFormToggleClick }) => {\r\n    useEffect(() => {\r\n        console.log('EFECTING FROM CUSTOM FORM', form)\r\n        return () => {\r\n            \r\n        }\r\n    })\r\n\r\n    // const mySubmit = () => {\r\n    //     console.log('SUBMITTED')\r\n    //     onFormToggleClick();\r\n    //     reset();\r\n    // }\r\n\r\n    // const onSubmit = (formValues) => {\r\n    //     console.group('SUBMITTED');\r\n    // };\r\n\r\n    const innerSubmit = formValues => {\r\n        mySubmit(formValues);\r\n        reset();\r\n    }\r\n\r\n    return (\r\n            <StyledForm className={`${className}__form`} onSubmit={handleSubmit}>\r\n                {/* <Field name='genre' component={renderSelect} options={genres} purpose='genres' />  */}\r\n                {/* <Field name='language' component={renderSelect} options={languages} purpose='languages' />  */}\r\n\r\n\r\n                {/* <Field name='genres' component={ReactDropdown} optVals={genres} purpose={'genre'} onChange={onSelectChange}/>\r\n                <Field name='languages' component={ReactDropdown} optVals={languages} purpose={'language'} onChange={onSelectChange}/> */}\r\n\r\n                {/* <Field name='genres' component={DropdownList} data={Object.values(genres)} valueField='value' textField='color'/> */}\r\n\r\n                <Field name='with_genres' component={renderSelect} defaultValue={35} purpose='genre' options={genres} />\r\n                <Field name='language' component={renderSelect} purpose='language' options={languages} />\r\n\r\n                <Field name='year' type='number' component={renderInput} placeholder='Year'/> \r\n                <Field name='vote_average' type='number' component={renderInput} placeholder='Rated at least'/>       \r\n                {/* <Field name='with_keywords' type='text' component={renderInput} placeholder='With keywords'/>  */}\r\n                <button type='submit' disabled={pristine || submitting}>Go</button>   \r\n                <button disabled={pristine || submitting} onClick={reset}>Clear</button>     \r\n            </StyledForm>\r\n    );\r\n}\r\n\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    genres: selectGenreList,\r\n    languages: selectLanguageList,\r\n    form: selectForm\r\n});\r\n\r\nconst validate = (values) => {\r\n    console.log('values from form validate',values)\r\n    const errors = {};\r\n\r\n    if (!values.year) {\r\n        errors.year = 'Required';\r\n    }else if (values.year.length !== 4 || values.year > new Date().getFullYear() || values.year < 1900) {\r\n        errors.year = 'Any year later than 1900 and earlier than the current';\r\n    }\r\n\r\n    if (!values.voteAverage) {\r\n        errors.voteAverage = 'Required';\r\n    }else if (values.voteAverage < 0 || values.voteAverage > 10) {\r\n        errors.voteAverage = 'Must be between 1 to 10';\r\n    }\r\n    \r\n    return errors;\r\n}\r\n\r\nconst WrappedCustomForm = connect(mapStateToProps, { fetchMoviesByCriteria })(CustomForm);\r\n\r\nexport default reduxForm({\r\n    form: 'CustomForm',\r\n    initialValues: {\r\n        // with_genres: 35,\r\n        // language: 'en'  \r\n    },\r\n    destroyOnUnmount: false,\r\n    // values: {genre: '12'},\r\n    validate\r\n})(WrappedCustomForm);\r\n","import styled, { css } from 'styled-components';\r\n\r\nexport const StyledFormContainer = styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    ${'' /* transform: translateX(-100%); */}\r\n    padding: 2rem 3rem;\r\n    height: 100vh;\r\n    background: white;\r\n    z-index: 500;\r\n    transition: transform .25s ease-out;\r\n    transform: translateX(${({ isVisible }) => \r\n         isFormVisible(isVisible)\r\n    });\r\n\r\n    & > button {\r\n        position: absolute;\r\n        background: rgba(255, 255, 255, .35);\r\n        border-radius: 0 5px 5px 0;\r\n        border: 2px solid rgba(255, 255, 255, .7);\r\n        border-left: 0;\r\n        box-shadow: inset -3px 0 5px -2px rgba(0, 0, 0, .5);\r\n        width: 2.5rem;\r\n        height: 2.5rem;\r\n        right: -2.5rem;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        opacity: (${({ isVisible }) => {\r\n            return isVisible ? 1 : .35;\r\n        }});\r\n    }\r\n`;\r\n\r\n\r\n\r\n\r\nconst isFormVisible = isFormVisible => {\r\n    return isFormVisible ? css`0` : css`-101%`;\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectMoviesByCriteria } from '../../redux/movies/movies.selector';\r\n\r\nimport { fetchMoviesByCriteria } from '../../redux/movies/movies.actions';\r\nimport { updateFormValues, resubmit } from '../../redux/form/form.actions';\r\nimport { selectForm, selectFormValues } from '../../redux/form/form.selector';\r\n\r\nimport CustomForm from '../../components/CustomForm/CustomForm.component';\r\nimport { CriteriaMovieList } from '../../components/MovieList/MovieList.component';\r\nimport MovieItem from '../../components/MovieItem/MovieItem.component';\r\nimport { StyledPage } from '../../GlobalStyle';\r\nimport { StyledFormContainer } from './Custom.style';\r\n\r\nimport { ListTokens } from '../../components/MovieList/MovieList.component';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Custom = props => {\r\n    const { data, onSubmit, formValues } = props;\r\n    const [ isFormVisible, setIsFormVisible ] = useState(true);\r\n    const [ hasSubmitted, setHasSubmitted ] = useState(false);\r\n    const [ valuesChanged, setValuesChanged ] = useState(false);\r\n    // const [ formValues, setFormValues ] = useState(null);\r\n\r\n    const handleFormToggleClick = () => {\r\n        toggleForm();                                              ////////PROBABLY NOT NEEDED\r\n    }\r\n\r\n    const toggleForm = () => {\r\n        setIsFormVisible(prevState => !prevState);\r\n    }\r\n\r\n    const handleSubmit = formValues => {\r\n        setIsFormVisible(prevState => false);\r\n        setHasSubmitted(prevState => true);\r\n        resubmit(true);\r\n        // setFormValues(prevState => formValues);\r\n        setValuesChanged(true);\r\n    }\r\n\r\n    const setValuesUnchanged = () => {\r\n        setValuesChanged(false);\r\n    }\r\n    \r\n    console.log('CHECKING FORM VALUE SINSIDE CUSTOM', valuesChanged)\r\n    return (\r\n        <StyledPage>\r\n            <StyledFormContainer isVisible={isFormVisible}>\r\n                <button className=\"custom__form-toggle\" onClick={toggleForm}>\r\n                    &#128269;\r\n                </button>\r\n                <CustomForm onSubmit={handleSubmit} className=\"custom\"/>\r\n            </StyledFormContainer>        \r\n            {(hasSubmitted || data) && <CriteriaMovieList values={formValues} valuesChanged={valuesChanged} setValuesUnchanged={setValuesUnchanged} token={ListTokens.CRITERIA} fetcher={fetchMoviesByCriteria} selector={selectMoviesByCriteria} />}\r\n        </StyledPage>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    data: selectMoviesByCriteria,\r\n    formValues: selectFormValues\r\n});\r\n\r\nexport default connect(mapStateToProps, { fetchMoviesByCriteria })(Custom);","import styled, { css } from 'styled-components';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\n// const setRulesByColorMap = (property, colors) => {\r\n//     console.log('COLORS RULESSSSSSSS', colors)\r\n//     let style = '';\r\n    \r\n//     for (let i = 0; i < 4; i++) {\r\n//         style += `\r\n//             &:nth-child(${i + 1}) > a {\r\n//                 ${property}: ${colors[i]}\r\n//             }\r\n//         `;\r\n//     }\r\n\r\n//     return css`${style}`;\r\n// };\r\n\r\nexport const StyledSidebar = styled.div`\r\n    width: 20%;\r\n    background-color: ${({ theme }) => theme.sidebar.bgColor};\r\n    box-shadow: .5rem 0 .5rem rgba(0, 0, 0, .35);\r\n    z-index: 1001;\r\n`;\r\n\r\nexport const StyledToggle = styled.button`\r\n    border-radius: 6px;\r\n    background-color: ${({ theme }) => theme.reverse};\r\n    margin: 0 0 2rem 1.5rem;\r\n    width: 1.6rem;\r\n    height: 1.6rem;\r\n    box-shadow: 0 3px 6px rgba(255, 255, 255, .3);\r\n`;\r\n\r\nexport const StyledTitleContainer = styled.div`\r\n    padding: 1.5rem 0 ;\r\n    ${'' /* margin-bottom: 5rem; */}\r\n    ${'' /* border-bottom: 1rem solid #78683c; */}\r\n    font-size: 3rem;\r\n    line-height: 1.1;\r\n`\r\n\r\nexport const StyledTitle = styled.h2`\r\n    font-size: 3rem;\r\n    line-height: 1.1;\r\n    font-weight: 900;\r\n    color: white;\r\n    padding-left: 2.5rem;\r\n`;\r\n\r\nexport const StyledMenu = styled.ul`\r\n    display: grid;\r\n    grid-template-rows: repeat(4, 6.5rem);\r\n\r\n    ${'' /* & > li > a {\r\n        ${({activePage}) => activePage ? \r\n             css`\r\n                border-left: 1rem solid red;\r\n            ` :\r\n            \r\n             null\r\n        }\r\n    } */}\r\n`;\r\n\r\nexport const StyledItem = styled.li`\r\n    display: flex;\r\n    ${'' /* ${setRulesByColorMap('border-color', ({ theme }) => colorArray)}; */}\r\n`;\r\n\r\n\r\n\r\n// $color1: rgba(176, 161, 186, 1);\r\n// $color2: rgba(165, 181, 191, 1);\r\n// $color3: rgba(171, 200, 199, 1);\r\n// $color4: rgba(184, 226, 200, 1);\r\n// $color5: rgba(191, 240, 212, 1);\r\n\r\n\r\n// $color1: rgba(247, 37, 133, 1);\r\n// $color2: rgba(114, 9, 183, 1);\r\n// $color3: rgba(58, 12, 163, 1);\r\n// $color4: rgba(67, 97, 238, 1);\r\n// $color5: rgba(76, 201, 240, 1);\r\n\r\n\r\n\r\n\r\nconst pageColors = ['rgba(247, 37, 133, 1)',\r\n    'rgba(114, 9, 183, 1)',\r\n    'rgba(58, 12, 163, 1)',\r\n    'rgba(67, 97, 238, 1)',]\r\n\r\n// const pageColors = [ '#aa7810', '#b8bac8', '#b4d6d3', '#b2ffd6']\r\n// const pageColors = [ '170, 120, 16', '184, 186, 200', '180, 214, 211', '178, 255, 214']\r\nconst pageColor = pageNum => pageColors[pageNum];\r\n\r\nexport const StyledLink = styled(Link)`\r\n    display: block;\r\n    position: relative;\r\n    flex: 1;\r\n    color: rgba(255, 255, 255, .25);\r\n    font-size: 1.8rem;\r\n    font-weight: 900;\r\n    line-height: 6.5rem;\r\n    padding-left: 3rem;\r\n    ${'' /* background-image: linear-gradient(-90deg, transparent 50%, rgba(0, 0, 0, .2) 50%);\r\n    background-size: 200%;\r\n    background-position: right; */}\r\n    background-color: rgba(0, 0, 0, 0);\r\n    transition: all .1s ease-out, padding .15s ease-out;\r\n    /*border-left: .55rem solid; rgba(235, 64, 52, .5);*/\r\n    \r\n    &::after {\r\n        content: '';\r\n        width: 1rem;\r\n        height: 100%;\r\n        background-color: ${({theme, pageNum }) => theme.page.colors[pageNum]};\r\n        box-shadow: 0 0 3px rgba(255, 255, 255, 1),  0 0 1rem rgba(255, 255, 255,, .1);\r\n        position: absolute;\r\n        right: 0;\r\n        transition: opacity .05s linear;\r\n    }\r\n\r\n    ${({isActive}) => isActive ? \r\n             css`\r\n                &::after {\r\n                    opacity: 1;\r\n                }\r\n            ` :\r\n            \r\n            css`\r\n                &::after {\r\n                    opacity: 0;\r\n                }\r\n            `\r\n        }\r\n    \r\n    ${'' /* @for $i from 0 through 3 {\r\n       border-color: map.get($page-colors, $i);\r\n    } */}\r\n\r\n    &:hover {\r\n        padding-left: 3.5rem;\r\n        background-color: rgba(0, 0, 0, .3);\r\n        ${'' /* border-color: rgba(0, 0, 0, .1); */}\r\n        color: rgba(255, 255, 255, .54);\r\n    }\r\n\r\n`;\r\n","import React, { Component, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { toggleTheme } from '../../redux/theme/theme.actions';\r\nimport { selectGenreList } from '../../redux/genres/genres.selector';\r\nimport { closeModal } from '../../redux/modal/modal.actions';\r\nimport { selectIsActive } from '../../redux/modal/modal.selector';\r\n\r\nimport { StyledSidebar, StyledToggle, StyledTitleContainer, StyledTitle, StyledMenu, StyledItem, StyledLink } from './Sidebar.style';\r\nimport SidebarLink from '../SidebarLink/SidebarLink.component';\r\n\r\nconst Sidebar = ({ toggleTheme, isModalOpen, closeModal }) => {\r\n  const [ currPage, setCurrPage ] = useState(0);\r\n  // const [ prevPage, setPrevPage ] = useState(0);\r\n\r\n  const pageTos = ['/', '/best', '/explore', '/custom'];\r\n  const pageTitles = ['Appetizer', 'Top 1\\'s', 'By Genre', 'Custom'];\r\n\r\n    const onThemeClick = () => {\r\n      toggleTheme();\r\n    }\r\n\r\n    const onLinkClick = pageNum => {\r\n      setCurrPage(pageNum);\r\n      closeModal();\r\n    }\r\n\r\n    const renderMenuItems = () => {\r\n      let items = new Array(4)\r\n\r\n      for (let i = 0; i < items.length; i++) {\r\n        const element = items[i] = \r\n        <StyledItem>\r\n          <StyledLink to={pageTos[i]} onClick={() => onLinkClick(i)} pageNum={i} isActive={currPage === i}>{pageTitles[i]}</StyledLink>\r\n        </StyledItem>;\r\n      }\r\n\r\n      return items;\r\n    }\r\n\r\n    return (\r\n      <StyledSidebar>\r\n        <StyledTitleContainer>\r\n        <StyledToggle onClick={onThemeClick}></StyledToggle>\r\n          <StyledTitle>Movie<br/>Guide</StyledTitle>\r\n        </StyledTitleContainer>\r\n        <StyledMenu activePage={currPage}>\r\n\r\n        {renderMenuItems()}\r\n          {/* <StyledItem>\r\n            <StyledLink to='/' onClick={() => onLinkClick(0)}>Appetizer</StyledLink>\r\n          </StyledItem>\r\n          <StyledItem>\r\n            <StyledLink to='/best' onClick={() => onLinkClick(1)}>Top 1's</StyledLink>\r\n          </StyledItem>\r\n          <StyledItem>\r\n            <StyledLink to='/explore' onClick={() => onLinkClick(2)}>By Genre</StyledLink>\r\n          </StyledItem>\r\n          <StyledItem>\r\n            <StyledLink to='/custom' onClick={() => onLinkClick(3)}>Custom</StyledLink>\r\n          </StyledItem> */}\r\n        </StyledMenu>\r\n      </StyledSidebar>\r\n    );\r\n}\r\n\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  genres: selectGenreList,\r\n  isModalOpen: selectIsActive\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  toggleTheme: () => dispatch(toggleTheme()),\r\n  closeModal: () => dispatch(closeModal())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);\r\n","import React from 'react'\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport { StyledLink } from '../Sidebar/Sidebar.style';\r\n\r\nconst SidebarLink = ({ to, onClick, isActive, history, children }) => {\r\n    const ownOnClick = () => {\r\n        console.log('CLICK SIDEBAR LINK', to)\r\n        onClick();\r\n        history.push(to);\r\n    }\r\n                                                                ///////////////CURRENTYL UNUSED\r\n    return (\r\n        <StyledLink to={to} onClick={ownOnClick} isActive={isActive}>\r\n            {children}\r\n        </StyledLink>\r\n    );\r\n    \r\n}\r\n\r\nexport default withRouter(SidebarLink);\r\n","import ThemeActionTypes from \"./theme.types\";\r\n\r\nimport { themes } from '../../GlobalStyle';\r\n\r\nexport const toggleTheme = () => ({\r\n    type: ThemeActionTypes.TOGGLE_THEME\r\n});\r\n\r\nexport const loadThemes = () => ({\r\n    type: ThemeActionTypes.LOAD_THEMES,\r\n    payload: themes\r\n});\r\n\r\n// export const fetchMoviesByCriteria = (formValues, isNewQuery) => async dispatch => {\r\n//     let endPoint = \"discover/movie?api_key=55881c34587ea582a685d26399d1be47\";\r\n//     const endPointAppendix = Object.entries(formValues).map(query => {\r\n        \r\n//         return  query[0] === 'vote_average' ? `${query[0]}.gte=${query[1]}` : `${query[0]}=${query[1]}`}).join('&');     //there got to be a better way\r\n\r\n//     endPoint = endPointAppendix ? `${endPoint}&${endPointAppendix}` : endPoint;\r\n//     let result;\r\n//     await api.get(endPoint).\r\n//     then(response => { result = response.data}).\r\n//     catch(error => console.log('ERROR FROM FETCH BY CRITERIA REDUCER', error));\r\n    \r\n//     console.log('PAYLOAD INSIDE MOVIE BY CRITEIRA REDUCER', result)\r\n\r\n//     dispatch({\r\n//         type: MovieActionTypes.FETCH_BY_CRITERIA,\r\n//         payload: {\r\n//             movies: result.results,\r\n//             total_pages: result.total_pages, \r\n//             isNewQuery: isNewQuery\r\n//         }\r\n//     });\r\n// };\r\n\r\n// export const fetchMoviesByGenre = (genreId, isGenreChanged, page) => async dispatch => {\r\n//   const response = await api.get(\r\n//     `discover/movie?api_key=55881c34587ea582a685d26399d1be47&page=${page}&with_genres=${genreId}`\r\n//   );\r\n  \r\n//   dispatch({\r\n//     type: MovieActionTypes.FETCH_MOVIES_BY_GENRE,\r\n//     payload: [response.data, isGenreChanged]\r\n//   });\r\n// };\r\n\r\n// export const fetchRandomMovie = () => async dispatch => {\r\n//   const latestResponse = await api.get(\r\n//     \"movie/latest?api_key=55881c34587ea582a685d26399d1be47\"\r\n//   );\r\n//   const latestMovieId = latestResponse.data.id;\r\n//   const randomMovieId = Math.ceil(Math.random() * latestMovieId); //maybe sholdt be ceil!!!\r\n//   const randomResponse = await api.get(\r\n//     `movie/${randomMovieId}?api_key=55881c34587ea582a685d26399d1be47`\r\n//   );\r\n//   const randomMovie = randomResponse.data;\r\n  \r\n//   dispatch({\r\n//     type: MovieActionTypes.FETCH_RANDOM_MOVIE,\r\n//     payload: randomMovie\r\n//   });\r\n// };\r\n\r\n// export const fetchBestMovies = () => async dispatch => {\r\n//   const bestMovies = await api.get(\r\n//     \"movie/top_rated?api_key=55881c34587ea582a685d26399d1be47&page=1\"\r\n//   );\r\n  \r\n//   dispatch({\r\n//     type: MovieActionTypes.FETCH_BEST_MOVIES,\r\n//     payload: bestMovies.data.results\r\n//   });\r\n// };\r\n","import styled, { css } from 'styled-components';\r\n\r\nexport const StyledModal = styled.div`\r\n    position: fixed;\r\n    display: grid;\r\n    grid-template-columns: auto 1fr;\r\n    grid-column-gap: 2rem;\r\n    grid-row-gap: 1rem;\r\n    width: 80%;\r\n    height: 100vh;\r\n    background-image: ${({ theme }) => css`linear-gradient(to right, rgba(${theme.modal.bgColor}, 1) 30%, rgba(${theme.modal.bgColor}, .85))`}, \r\n                        url(https://image.tmdb.org/t/p/w780/h1JzHjFJXNJb3QTCwWmm2UbWEwn.jpg);\r\n    background-size: cover;\r\n    background-position: center;\r\n    ${'' /* background-repeat: no-repeat; */}\r\n    z-index: 1000;\r\n    padding: 5.5rem 8rem 8rem 4.5rem;\r\n    transition: opacity .15s linear;\r\n\r\n    ${({isActive}) => isActive ?\r\n        css`\r\n            opacity: 1;\r\n            visibility: visible;\r\n        ` :\r\n        css`\r\n            opacity: 0;\r\n            visibility: 'hidden';\r\n        `\r\n    }\r\n\r\n    & > .exit {\r\n        position: absolute;\r\n        top: 2rem;\r\n        right: 2rem;\r\n        cursor: pointer;\r\n    }\r\n\r\n    & > .title {\r\n        grid-column: 1 / 3;\r\n        font-size: 2rem;\r\n        color: rgba(${({ theme }) => theme.modal.textColor}, .9);\r\n\r\n        & > .genres {\r\n            color: rgba(${({ theme }) => theme.modal.textColor}, .7);\r\n            margin-top: 6.5px;\r\n            font-size: 1rem;\r\n            line-height: 1;\r\n        }\r\n\r\n        & > .year {\r\n            font-size: 1.8rem;\r\n            font-weight: 100;\r\n            color: rgba(${({ theme }) => theme.modal.textColor}, .7); \r\n        }\r\n\r\n        & > .rating {\r\n            font-weight: 700;\r\n            font-size: 1.5rem;\r\n            color: rgba(${({ theme }) => theme.modal.textColor}, .7);\r\n        }\r\n\r\n        & > .language {\r\n            font-weight: 700;\r\n            font-size: 1.35rem;\r\n            color: rgba(${({ theme }) => theme.modal.textColor}, .7);\r\n        }\r\n    }\r\n\r\n    & > .imgContainer\r\n    & > .content {\r\n        \r\n    }\r\n\r\n    & > .imgContainer {\r\n        display: flex;\r\n        justify-content: center;\r\n        ${'' /* align-items: center; */}\r\n\r\n        & > img {\r\n            ${'' /* width: 100%; */}\r\n            ${'' /* height: 100%; */}\r\n            border-radius: 10px;\r\n        }\r\n    }\r\n    \r\n\r\n    & > .content {\r\n        display: flex;\r\n        flex-direction: column;\r\n\r\n        \r\n\r\n        \r\n\r\n        & > .overview {\r\n            font-size: 1.7rem;\r\n            font-weight: 700;\r\n            margin-bottom: auto;\r\n            color: rgba(${({ theme }) => theme.modal.textColor}, .9);\r\n\r\n            & > span {\r\n                margin-top: 1rem;\r\n                display: block;\r\n                font-size: 1.1rem;\r\n                color: rgba(${({ theme }) => theme.modal.textColor}, .7);\r\n                font-weight: 100;\r\n                line-height: 1.55;\r\n                padding-right: 15rem;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n                ${'' /* opacity: 1;\r\n                visibility: visible; */}\r\n    ${'' /* ${({ isActive }) => {\r\n        if (isActive) \r\n            return css`\r\n                opacity: 1;\r\n                visibility: visible;\r\n                z-index: 10;\r\n            `;\r\n        return css`\r\n            opacity: 0;\r\n            visibility: hidden;\r\n        `\r\n    }} */}\r\n\r\n\r\n\r\n    \r\n    \r\n          \r\n\r\n`;","import React, { useEffect } from 'react';     ///////DELETE USEEFFECT\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { closeModal } from '../../redux/modal/modal.actions';\r\nimport { selectIsActive, selectMovie } from '../../redux/modal/modal.selector';\r\nimport { selectLanguageList } from '../../redux/languages/languages.selector';\r\nimport { selectGenreList } from '../../redux/genres/genres.selector';\r\n\r\nimport Img from 'react-image';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nimport { StyledModal } from './Modal.style';\r\n\r\nconst Modal = ({ movie, isActive, closeModal, languages, genres }) => {\r\n    console.log('movie from modal', movie)\r\n    const {\r\n        title,\r\n        genre_ids: genresIds,\r\n        overview,\r\n        vote_average: ratings,\r\n        release_date: releaseDate,\r\n        poster_path: poster,\r\n        backdrop_path: backdrop,\r\n        original_language: languageId\r\n    } = movie || {};\r\n\r\n    const genresNames = genresIds.map(id => genres[id]);\r\n    // const preProcess = () => {\r\n\r\n    // }\r\n    // let ownGenres;\r\n\r\n    useEffect(() => {\r\n        // ownGenres = genreIds.map(id => genres[id]);\r\n    });\r\n\r\n    const className = 'kaki';\r\n    const onClick = () => {\r\n        closeModal();\r\n    }\r\n\r\n    return (\r\n        isActive ? \r\n        <StyledModal isActive={isActive} backdrop={backdrop}>\r\n            <button className='exit' onClick={onClick}>&#x274C;</button>\r\n            \r\n            <h2 className='title'>\r\n                {title || ''} \r\n                <span className='year'>{`  (${releaseDate.substr(0,4)})  `}</span>\r\n                <span className='rating'>{`${ratings}` || ''} &#9733;{' '} </span>\r\n                <span className='language'>{languages[languageId]}</span>\r\n                <p className='genres'>{genresNames.join(', ')}</p>\r\n            </h2>\r\n            <div className='imgContainer'>\r\n                {/* <img src={`https://image.tmdb.org/t/p/w300/${poster}`} className='img'/> */}\r\n                <Img \r\n                    className='img'\r\n                    src={[\r\n                        `https://image.tmdb.org/t/p/w300/${poster}`,\r\n                    ]}\r\n                    loader={<ClipLoader size={50} color={\"#123abc\"} />}\r\n                    unloader={'../../assests/unfound.jpg'}\r\n                />\r\n            </div> \r\n            <div className='content'>\r\n                <p className='overview'>Overview<span>{overview || ''}</span></p>\r\n            </div>\r\n            \r\n        </StyledModal> :\r\n        null\r\n        \r\n        \r\n    );\r\n}\r\n\r\n// const mapStateToProps = createStructuredSelector({\r\n//     // isActive: selectIsActive,\r\n//     movie: selectMovie\r\n// });\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    isActive: selectIsActive,\r\n    movie: selectMovie,\r\n    languages: selectLanguageList,\r\n    genres: selectGenreList\r\n});\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    closeModal: () => dispatch(closeModal())                       //BE THOGHTFUL OF THE OPTION TO CLOSE WHEN CLICKING ON SIDEBAR\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal);\r\n","import styled from 'styled-components'\r\n\r\nexport const StyledApp = styled.div`\r\n    position: relative;\r\n    display: flex;\r\n    ${'' /* display: grid;\r\n    grid-template-columns: 25vw 75vw; */}\r\n    ${'' /* grid-template-rows: 100vh; */}\r\n    max-height: 100vh;\r\n    ${'' /* height: 100vh; */}\r\n`;\r\n\r\nexport const StyledContainer = styled.div`\r\n    position: relative;\r\n    overflow-y: scroll;\r\n    width: 80%;\r\n    background-color: ${({ theme }) => theme.page.bgColor};\r\n`;","import React, { useEffect } from 'react';\r\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { ThemeProvider } from 'styled-components';\r\n\r\nimport { fetchLanguages } from './redux/languages/languages.actions';\r\nimport { fetchGenres } from './redux/genres/genres.actions';\r\nimport { selectGenreList } from './redux/genres/genres.selector';\r\nimport { fetchMoviesByGenre } from './redux/movies/movies.actions';\r\nimport { selectCurrentTheme } from './redux/theme/theme.selector';\r\nimport { selectIsActive } from './redux/modal/modal.selector';\r\n\r\nimport Random from './pages/Random/Random.component';\r\nimport BestMovies from './pages/BestMovies';\r\nimport Explore from './pages/Explore';\r\nimport Custom from './pages/Custom/Custom.component';\r\n\r\nimport Sidebar from './components/Sidebar/Sidebar.component';\r\nimport Modal from './components/Modal/Modal.component';\r\n\r\nimport { GlobalStyle } from \"./GlobalStyle\";\r\nimport { themes } from \"./GlobalStyle\";\r\nimport { StyledApp, StyledContainer } from './App.style';\r\n\r\nconst App = ({ fetchLanguages, fetchGenres, currentTheme, isModalActive }) => { \r\n  useEffect(() => {\r\n    fetchLanguages();\r\n    fetchGenres();\r\n  }, []);\r\n\r\n  return (\r\n        \r\n    <ThemeProvider theme={themes[currentTheme]} >\r\n      <GlobalStyle />    \r\n      <StyledApp>  \r\n        <Router>\r\n          <Sidebar /> \r\n          <StyledContainer>\r\n            {isModalActive && <Modal />}\r\n            <Switch>\r\n              <Route exact path='/' component={Random}></Route>\r\n              <Route exact path='/best' component={BestMovies}></Route>\r\n              <Route exact path='/explore' component={Explore}></Route>\r\n              <Route exact path='/custom' component={Custom}></Route>\r\n            </Switch>\r\n          </StyledContainer>\r\n        </Router>\r\n      </StyledApp>\r\n    </ThemeProvider>\r\n    \r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  currentTheme: selectCurrentTheme,\r\n  genres: selectGenreList,\r\n  isModalActive: selectIsActive\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchLanguages: () => dispatch(fetchLanguages()),\r\n  fetchGenres: () => dispatch(fetchGenres()),\r\n  fetchMoviesByGenre: (genreId, page) => dispatch(fetchMoviesByGenre(genreId, page)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import api from \"../../api/api\";\r\n\r\nimport LanguageActionTypes from \"./languages.types\";\r\n\r\nexport const fetchLanguages = () => async dispatch => {\r\n    let languages = {};\r\n    await api.get(\r\n      \"configuration/languages?api_key=55881c34587ea582a685d26399d1be47\"\r\n    ).then(response => {\r\n      const list = response.data;\r\n      for (let i = 1; i < list.length; i++) {\r\n        languages[list[i].iso_639_1] = list[i].english_name\r\n      }\r\n      //   languages = response.data.map(datum => ({ \r\n      //   value: datum.iso_639_1, \r\n      //   title: datum.english_name \r\n      // }));\r\n    console.log('languagessss12345',  languages);\r\n    }).catch(error => alert(error));\r\n\r\n    \r\n\r\n    dispatch({\r\n      type: LanguageActionTypes.FETCH_LANGUAGES,\r\n      payload: languages\r\n    });\r\n  };\r\n\r\n\r\n","import api from \"../../api/api\";\r\n\r\nimport GenreActionTypes from \"./genres.types\";\r\n\r\nexport const fetchGenres = () => async dispatch => {\r\n    let genres = {};\r\n\r\n    await api.get(\r\n      \"genre/movie/list?api_key=55881c34587ea582a685d26399d1be47&language=en-US\"\r\n    ).then(data => {console.log('GENRE DATAAAAAAAAA', data); \r\n        data.data.genres.forEach(genre => {\r\n          genres[genre.id] = genre.name\r\n        })\r\n    })\r\n    .catch(error => alert(error));\r\n    \r\n    console.log('INSIDE GENRE ACTION', genres);\r\n\r\n    dispatch({\r\n      type: GenreActionTypes.FETCH_GENRES,\r\n      payload: genres\r\n    });\r\n  };\r\n  ","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./redux/store\";\r\n\r\nimport App from \"./App\";\r\n\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n      \r\n      <App />\r\n    </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}