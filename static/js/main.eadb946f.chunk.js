(this["webpackJsonpmovie-guide"]=this["webpackJsonpmovie-guide"]||[]).push([[0],{115:function(e,t,n){e.exports=n(244)},243:function(e,t,n){},244:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(53),i=n.n(o),s=n(6),c=n(5),l=n(111),u=n(8),m=n(9),p=n(11),d=n(10),g=n(12),h=n(30),v=n(26),E=n(17),f=n.n(E),b=n(33),O=n(112),y=n.n(O).a.create({baseURL:"https://api.themoviedb.org/3/",auth:{api_key:"55881c34587ea582a685d26399d1be47"},params:{include_adult:!1}}),_=function(e,t){return function(){var n=Object(b.a)(f.a.mark((function n(a){var r,o,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("formvalues MOVIE CRIETEIEA ACTION",e),r="discover/movie?api_key=55881c34587ea582a685d26399d1be47",o=Object.entries(e).map((function(e){return console.log("QUERY FROM MOVIE CRIETEIEA ACTION",e),"vote_average"===e[0]?"".concat(e[0],".gte=").concat(e[1]):"".concat(e[0],"=").concat(e[1])})).join("&"),r=o?"".concat(r,"&").concat(o):r,console.log("ENDPOINT FROM MOVIES BY CRITERIA ATION",r),n.next=7,y.get(r);case 7:i=n.sent,console.log("MOVIES BY CRITERIA RESPONSE",i),a({type:"FETCH_BY_CRITERIA",payload:[i.data,t]});case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},j=function(){return function(){var e=Object(b.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("genre/movie/list?api_key=55881c34587ea582a685d26399d1be47&language=en-US");case 2:n=e.sent,a={},n.data.genres.forEach((function(e){return a[e.name]=e.id})),t({type:"FETCH_GENRES",payload:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){n.props.onChange(e.target.value)},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"renderOptions",value:function(){return Object.entries(this.props.options).map((function(e){return r.a.createElement("option",{value:e[1]},e[0])}))}},{key:"render",value:function(){var e=this;return(r.a.createElement("select",{className:"ui dropdown",onChange:function(t){return e.onChange(t)}},this.renderOptions()))}}]),t}(a.Component),M=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchGenreList(),this.props.fetchLanguageList()}},{key:"render",value:function(){return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"sidebar__menu"},r.a.createElement("h2",{className:"sidebar__heading"},"Navigate Yourself"),r.a.createElement("div",{className:"sidebar__link-container"},r.a.createElement(h.b,{to:"/",className:"sidebar__link"},"Appetizer")),r.a.createElement("div",{className:"sidebar__link-container"},r.a.createElement(h.b,{to:"/best",className:"sidebar__link"},"All Time Best")),r.a.createElement("div",{className:"sidebar__link-container"},r.a.createElement(h.b,{to:"/explore",className:"sidebar__link"},"Explore By Genre")),r.a.createElement("div",{className:"sidebar__link-container"},r.a.createElement(h.b,{to:"/custom",className:"sidebar__link"},"Custom Search"))))}}]),t}(a.Component),C=Object(s.b)((function(e){return console.log("STATE FROM HEADEr",e),{genres:e.genres.genres}}),{fetchGenreList:j,fetchLanguageList:function(){return function(){var e=Object(b.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("configuration/languages?api_key=55881c34587ea582a685d26399d1be47");case 2:n=e.sent,a=n.data.map((function(e){return{iso:e.iso_639_1,englishName:e.english_name}})),t({type:"FETCH_LANGUAGES",payload:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(M),I=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.movie,t=e.title,n=e.overview,a=e.vote_average,o=e.release_date,i=e.poster_path,s=e.original_language,c=this.props.languageList.filter((function(e){return e.iso===s}))[0].englishName;return r.a.createElement("div",{className:"".concat(this.props.className,"__item")},r.a.createElement("div",{className:"".concat(this.props.className,"__info")},r.a.createElement("h2",null,t),r.a.createElement("p",null,n),r.a.createElement("p",null,"Ratings: ",a),r.a.createElement("p",null,"Release Date: ",o),r.a.createElement("p",null,"Language: ",c)),r.a.createElement("div",{className:"".concat(this.props.className,"__img-container")},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200/".concat(i),className:"".concat(this.props.className,"__img")})))}}]),t}(a.Component),S=Object(s.b)((function(e){return{languageList:e.languages.languages}}))(I),R=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.generateRandomMovie()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"random__container"},r.a.createElement("h1",{className:"random__heading"},"a random appetizer"),r.a.createElement("button",{className:"random__generate-button",onClick:function(){return e.props.generateRandomMovie()}},"ain't hungry yet"),this.props.randomMovie&&r.a.createElement(S,{movie:this.props.randomMovie,className:"random"}))}}]),t}(a.Component),k=Object(s.b)((function(e){return{randomMovie:e.movies.randomMovie}}),{generateRandomMovie:function(){return function(){var e=Object(b.a)(f.a.mark((function e(t){var n,a,r,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("movie/latest?api_key=55881c34587ea582a685d26399d1be47");case 2:return n=e.sent,a=n.data.id,r=Math.ceil(Math.random()*a),e.next=7,y.get("movie/".concat(r,"?api_key=55881c34587ea582a685d26399d1be47"));case 7:o=e.sent,i=o.data,t({type:"RANDOM_MOVIE",payload:i});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(R),w=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"renderBestMoviesList",value:function(){return console.log("BEST MOVIES DID MOUNT",this.props),this.props.bestMovies.map((function(e){return r.a.createElement(S,{movie:e})}))}},{key:"componentDidMount",value:function(){this.props.fetchBestMovies()}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.bestMovies&&this.renderBestMoviesList())}}]),t}(a.Component),T=Object(s.b)((function(e){return{bestMovies:e.movies.bestMovies}}),{fetchBestMovies:function(){return function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("movie/top_rated?api_key=55881c34587ea582a685d26399d1be47&page=1");case 2:n=e.sent,t({type:"BEST_MOVIES",payload:n.data.results});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(w),B=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={genreId:12,page:1,isFetching:!1},n.renderMovieList=function(){if(console.log("rendering genre list"),n.props.movies.movies.length)return n.props.movies.movies.map((function(e){return r.a.createElement(S,{movie:e})}))},n.onSelectGenre=function(e){console.log("chacnged genre",e),n.setState((function(t){return{genreId:e,page:1}}))},n.handleScroll=function(){var e=document.documentElement.scrollHeight-(window.innerHeight+window.scrollY);console.log("BOTTOM OFFSET",e,window.innerHeight,window.scrollY,document.documentElement.scrollHeight),e>=0&&e<=50&&(console.log("REACHED BOTTOM IN EXLPLORE hello"),n.setState((function(e){if(e.page<n.props.movies.totalPages)return{page:e.page+1,isFetching:!0}})))},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchMoviesByGenre(this.state.genreId,!1,this.state.page),window.addEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(e,t){console.log("SELECTED VALUE FROM EXPLORE UPDATE",this.state.genreId),this.state.genreId===t.genreId&&this.state.page!==t.page?this.props.fetchMoviesByGenre(this.state.genreId,!1,this.state.page):this.state.genreId!==t.genreId&&this.props.fetchMoviesByGenre(this.state.genreId,!0,this.state.page),window.addEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null),this.props.genres&&r.a.createElement(N,{options:this.props.genres,purpose:"Genres",onChange:this.onSelectGenre}),console.log("about to render by genre list",this.props),this.props.movies&&this.renderMovieList(),this.state.isFetching&&"Loading...")}}]),t}(a.Component),G=Object(s.b)((function(e){return{movies:e.movies.moviesByGenre,genres:e.genres.genres}}),{fetchMoviesByGenre:function(e,t,n){return function(){var a=Object(b.a)(f.a.mark((function a(r){var o;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.get("discover/movie?api_key=55881c34587ea582a685d26399d1be47&page=".concat(n,"&with_genres=").concat(e));case 2:o=a.sent,r({type:"FETCH_MOVIES_BY_GENRE",payload:[o.data,t]});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},fetchGenreList:j})(B),F=n(245),L=n(247),A=n(246),D=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).renderSelect=function(e){return console.log("RENDERING SELECT OF CRITERIA",e),r.a.createElement(N,{options:n.props.genres,purpose:"Genres",onChange:function(t){return e.input.onChange(t)}})},n.onSelectGenre=function(e){},n.renderInput=function(e){var t=e.input,a=e.label,o=e.type,i=e.meta;return r.a.createElement("div",{className:""},r.a.createElement("label",null,a),r.a.createElement("input",Object.assign({},t,{autoComplete:"off",type:o})),r.a.createElement("div",null,n.renderError(i)))},n.renderError=function(e){var t=e.error;if(e.touched&&t)return r.a.createElement("div",{className:"ui error message"},r.a.createElement("div",{className:"header"},t))},n.onSubmit=function(e){n.props.onSubmit(e)},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,{className:"".concat(this.props.className,"__form"),onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(L.a,{name:"with_genres",component:this.renderSelect}),r.a.createElement(L.a,{name:"language",type:"text",component:this.renderInput,label:"Enter Language"}),r.a.createElement(L.a,{name:"year",type:"number",component:this.renderInput,label:"Enter Year"}),r.a.createElement(L.a,{name:"vote_average",type:"number",step:"0.01",component:this.renderInput,label:"Minimum Ratings"}),"        ",r.a.createElement(L.a,{name:"with_keywords",type:"text",component:this.renderInput,label:"With Keywords"}),r.a.createElement("button",null,"Go"))}}]),t}(a.Component),x=Object(s.b)((function(e){return{genres:e.genres.genres}}),{fetchMoviesByCriteria:_})(D),V=Object(A.a)({form:"MovieByCriteriaForm",values:{genre:"12"},validate:function(e){return{}}})(x),H=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={page:1,isFormVisible:!1},n.renderMovieList=function(){if(console.log("PROPS FROM Custom",n.props),n.props.movies.movies.length)return n.props.movies.movies.map((function(e){return r.a.createElement(S,{movie:e})}))},n.onFormToggleClick=function(){n.toggleForm()},n.onCustomClick=function(e){},n.toggleForm=function(){n.setState((function(e){return{isFormVisible:!e.isFormVisible}}))},n.onSubmit=function(e){n.props.fetchMoviesByCriteria(e,!0),n.toggleForm()},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState((function(e){return{isFormVisible:!0}}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"custom"},r.a.createElement("div",{className:"custom__form-container".concat(this.state.isFormVisible?" custom__form-container--visible":"")},r.a.createElement(V,{onSubmit:this.onSubmit,className:"custom"}),r.a.createElement("button",{className:"custom__form-toggle",onClick:this.onFormToggleClick},r.a.createElement("span",{className:"custom__form-toggle--left"}),r.a.createElement("span",{className:"custom__form-toggle--right"}))),this.props.movies&&this.renderMovieList())}}]),t}(a.Component),Y=Object(s.b)((function(e){return{movies:e.movies.moviesByCriteria}}),{fetchMoviesByCriteria:_})(H),P=(n(243),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"body"},r.a.createElement(h.a,null,r.a.createElement(C,null),r.a.createElement("div",{className:"main-container"},r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/",component:k,exact:!0}),r.a.createElement(v.a,{path:"/best",component:T,exact:!0}),r.a.createElement(v.a,{path:"/explore",component:G,exact:!0}),r.a.createElement(v.a,{path:"/custom",component:Y,exact:!0})))))}}]),t}(a.Component)),U=Object(s.b)(null)(P),X=n(44),z=n(23),J=n(248),q=Object(c.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RANDOM_MOVIE":return Object(z.a)({},e,{randomMovie:t.payload});case"BEST_MOVIES":return Object(z.a)({},e,{bestMovies:t.payload});case"FETCH_BY_CRITERIA":return console.log("MOVIES BY CRITREROA ",e),e.moviesByCriteria&&!t.payload[1]?Object(z.a)({},e,{moviesByCriteria:{totalPages:t.payload[0].total_pages,movies:[].concat(Object(X.a)(e.moviesByGenre.movies),Object(X.a)(t.payload[0].results))}}):Object(z.a)({},e,{moviesByCriteria:{totalPages:t.payload[0].total_pages,movies:t.payload[0].results}});case"FETCH_MOVIES_BY_GENRE":return console.log("MOVIES BY GENRE",t),e.moviesByGenre&&!t.payload[1]?(console.log("INDEED MOVIES BY GENRE EXIST IN STATE",t.payload),Object(z.a)({},e,{moviesByGenre:{totalPages:t.payload[0].total_pages,movies:[].concat(Object(X.a)(e.moviesByGenre.movies),Object(X.a)(t.payload[0].results))}})):Object(z.a)({},e,{moviesByGenre:{totalPages:t.payload[0].total_pages,movies:t.payload[0].results}});default:return e}},genres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GENRES":return console.log("GENRES FROM REDUCER ",t.payload),Object(z.a)({},e,{genres:t.payload});default:return e}},languages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LANGUAGES":return console.log("GENRES FROM REDUCER ",t.payload),Object(z.a)({},e,{languages:t.payload});default:return e}},form:J.a}),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,Q=Object(c.e)(q,K(Object(c.a)(l.a)));i.a.render(r.a.createElement(s.a,{store:Q},r.a.createElement(U,null)),document.querySelector("#root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.eadb946f.chunk.js.map